

Started GET "/" for 127.0.0.1 at 2013-12-05 11:40:06 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by DataImportsController#index as HTML
  Rendered data_imports/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 125ms (Views: 104.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2013-12-05 11:40:06 -0500
Processing by DataImportsController#index as HTML
  Rendered data_imports/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.0ms)


Started GET "/assets/data_import.css?body=1" for 127.0.0.1 at 2013-12-05 11:40:06 -0500


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 11:40:06 -0500


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 11:40:06 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 11:40:06 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 11:40:06 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 11:40:06 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 11:40:06 -0500


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 11:40:13 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"MUTYvflxte1RZnn70SxxkPtXwLF14AYKuIJmVTBXRnk=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007fa78abd7ea8 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-42038-1ovmmq5>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
Redirected to http://localhost:3000/?error_msg=There+was+a+problem+importing+the+file+undefined+method+%60normalize%27+for+DataImport%3AClass
Completed 302 Found in 28ms (ActiveRecord: 0.0ms)


Started GET "/?error_msg=There+was+a+problem+importing+the+file+undefined+method+%60normalize%27+for+DataImport%3AClass" for 127.0.0.1 at 2013-12-05 11:40:13 -0500
Processing by DataImportsController#index as HTML
  Parameters: {"error_msg"=>"There was a problem importing the file undefined method `normalize' for DataImport:Class"}
  Rendered data_imports/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 11:40:13 -0500


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 11:40:13 -0500


Started GET "/assets/data_import.css?body=1" for 127.0.0.1 at 2013-12-05 11:40:13 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 11:40:13 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 11:40:13 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 11:40:13 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 11:40:13 -0500


Started GET "/?error_msg=There+was+a+problem+importing+the+file+undefined+method+%60normalize%27+for+DataImport%3AClass" for 127.0.0.1 at 2013-12-05 11:41:14 -0500
Processing by DataImportsController#index as HTML
  Parameters: {"error_msg"=>"There was a problem importing the file undefined method `normalize' for DataImport:Class"}
  Rendered data_imports/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 11:41:14 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 11:41:14 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 11:41:14 -0500


Started GET "/assets/data_import.css?body=1" for 127.0.0.1 at 2013-12-05 11:41:14 -0500


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 11:41:14 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 11:41:14 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 11:41:14 -0500


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 11:41:20 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"MUTYvflxte1RZnn70SxxkPtXwLF14AYKuIJmVTBXRnk=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007fa78ab46368 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-42038-rhkklk>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
  [1m[35mMerchant Load (1.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" IS NULL AND "merchants"."address" IS NULL ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (9.1ms)[0m  INSERT INTO "merchants" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 16:41:20 UTC +00:00], ["updated_at", Thu, 05 Dec 2013 16:41:20 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mItem Load (0.6ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" IS NULL AND "items"."price" IS NULL AND "items"."merchant_id" = '50540e82-cfab-41c8-b96f-38c1f43092d1' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "items" ("created_at", "merchant_id", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 16:41:20 UTC +00:00], ["merchant_id", "50540e82-cfab-41c8-b96f-38c1f43092d1"], ["updated_at", Thu, 05 Dec 2013 16:41:20 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mPurchaser Load (1.0ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" IN ('Snake Plissken	$10 off $20 of food	10.0	2	987 Fake St	Bob''s Pizza') ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 16:41:20 UTC +00:00], ["name", ["Snake Plissken\t$10 off $20 of food\t10.0\t2\t987 Fake St\tBob's Pizza"]], ["updated_at", Thu, 05 Dec 2013 16:41:20 UTC +00:00]]
TypeError: can't cast Array to string: INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
Redirected to http://localhost:3000/?error_msg=There+was+a+problem+importing+the+file+can%27t+cast+Array+to+string
Completed 302 Found in 95ms (ActiveRecord: 23.7ms)


Started GET "/?error_msg=There+was+a+problem+importing+the+file+can%27t+cast+Array+to+string" for 127.0.0.1 at 2013-12-05 11:41:20 -0500
Processing by DataImportsController#index as HTML
  Parameters: {"error_msg"=>"There was a problem importing the file can't cast Array to string"}
  Rendered data_imports/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 11:41:20 -0500


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 11:41:20 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 11:41:20 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 11:41:20 -0500


Started GET "/assets/data_import.css?body=1" for 127.0.0.1 at 2013-12-05 11:41:20 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 11:41:20 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 11:41:20 -0500


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 11:41:36 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"MUTYvflxte1RZnn70SxxkPtXwLF14AYKuIJmVTBXRnk=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007fa78c8bf048 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-42038-1p8gf48>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" IS NULL AND "merchants"."address" IS NULL ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.8ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" IS NULL AND "items"."price" IS NULL AND "items"."merchant_id" = '50540e82-cfab-41c8-b96f-38c1f43092d1' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.3ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" IN ('Snake Plissken	$10 off $20 of food	10.0	2	987 Fake St	Bob''s Pizza') ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 16:41:36 UTC +00:00], ["name", ["Snake Plissken\t$10 off $20 of food\t10.0\t2\t987 Fake St\tBob's Pizza"]], ["updated_at", Thu, 05 Dec 2013 16:41:36 UTC +00:00]]
TypeError: can't cast Array to string: INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
Redirected to http://localhost:3000/?error_msg=There+was+a+problem+importing+the+file+can%27t+cast+Array+to+string
Completed 302 Found in 135ms (ActiveRecord: 9.2ms)


Started GET "/?error_msg=There+was+a+problem+importing+the+file+can%27t+cast+Array+to+string" for 127.0.0.1 at 2013-12-05 11:41:36 -0500
Processing by DataImportsController#index as HTML
  Parameters: {"error_msg"=>"There was a problem importing the file can't cast Array to string"}
  Rendered data_imports/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 11:41:36 -0500


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 11:41:36 -0500


Started GET "/assets/data_import.css?body=1" for 127.0.0.1 at 2013-12-05 11:41:36 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 11:41:36 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 11:41:36 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 11:41:36 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 11:41:36 -0500


Started GET "/?error_msg=There+was+a+problem+importing+the+file+can%27t+cast+Array+to+string" for 127.0.0.1 at 2013-12-05 11:41:54 -0500
Processing by DataImportsController#index as HTML
  Parameters: {"error_msg"=>"There was a problem importing the file can't cast Array to string"}
  Rendered data_imports/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 11:41:54 -0500


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 11:41:54 -0500


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 11:41:54 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 11:41:54 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 11:41:54 -0500


Started GET "/assets/data_import.css?body=1" for 127.0.0.1 at 2013-12-05 11:41:54 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 11:41:54 -0500


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 11:42:00 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"MUTYvflxte1RZnn70SxxkPtXwLF14AYKuIJmVTBXRnk=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007fa78aca2d38 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-42038-a2lf2a>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
  [1m[35mMerchant Load (0.7ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.6ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '38ae6c81-0721-40bd-84b6-4fdba510c60d' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.5ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 2], ["created_at", Thu, 05 Dec 2013 16:42:00 UTC +00:00], ["item_id", "28d5b8ac-596b-4678-8da0-15dba1e10a8d"], ["purchaser_id", "25e0951a-f659-41e7-9417-2105daa9cb22"], ["updated_at", Thu, 05 Dec 2013 16:42:00 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mMerchant Load (0.5ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.7ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '3c1d34c2-8e1b-4598-a0f5-4a32db22176f' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.5ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 16:42:00 UTC +00:00], ["item_id", "dd3362c9-d657-4897-a7aa-8121c644715c"], ["purchaser_id", "512ee88a-d00a-4ef4-9c99-dd74ad920bd1"], ["updated_at", Thu, 05 Dec 2013 16:42:00 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mMerchant Load (0.5ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '9555e3bc-5ae9-41df-a037-95b16634b3dc' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 1], ["created_at", Thu, 05 Dec 2013 16:42:00 UTC +00:00], ["item_id", "66a2f154-bee0-45ea-94f5-a9b31753f547"], ["purchaser_id", "0ad889dd-9cf6-47fa-b1a3-fb72ccd04fce"], ["updated_at", Thu, 05 Dec 2013 16:42:00 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '9555e3bc-5ae9-41df-a037-95b16634b3dc' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.3ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 16:42:00 UTC +00:00], ["item_id", "66a2f154-bee0-45ea-94f5-a9b31753f547"], ["purchaser_id", "25e0951a-f659-41e7-9417-2105daa9cb22"], ["updated_at", Thu, 05 Dec 2013 16:42:00 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mPurchase Load (0.6ms)[0m  SELECT "purchases".* FROM "purchases"
  [1m[36mItem Load (1.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "28d5b8ac-596b-4678-8da0-15dba1e10a8d"]]
  [1m[35mItem Load (0.6ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "dd3362c9-d657-4897-a7aa-8121c644715c"]]
  [1m[36mItem Load (0.6ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "66a2f154-bee0-45ea-94f5-a9b31753f547"]]
  [1m[35mCACHE (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "66a2f154-bee0-45ea-94f5-a9b31753f547"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "28d5b8ac-596b-4678-8da0-15dba1e10a8d"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "dd3362c9-d657-4897-a7aa-8121c644715c"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "66a2f154-bee0-45ea-94f5-a9b31753f547"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "66a2f154-bee0-45ea-94f5-a9b31753f547"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "28d5b8ac-596b-4678-8da0-15dba1e10a8d"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "dd3362c9-d657-4897-a7aa-8121c644715c"]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "66a2f154-bee0-45ea-94f5-a9b31753f547"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "66a2f154-bee0-45ea-94f5-a9b31753f547"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "28d5b8ac-596b-4678-8da0-15dba1e10a8d"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "dd3362c9-d657-4897-a7aa-8121c644715c"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "66a2f154-bee0-45ea-94f5-a9b31753f547"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "66a2f154-bee0-45ea-94f5-a9b31753f547"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "28d5b8ac-596b-4678-8da0-15dba1e10a8d"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "dd3362c9-d657-4897-a7aa-8121c644715c"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "66a2f154-bee0-45ea-94f5-a9b31753f547"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "66a2f154-bee0-45ea-94f5-a9b31753f547"]]
Redirected to http://localhost:3000/?gross_revenue=475.0
Completed 302 Found in 233ms (ActiveRecord: 23.5ms)


Started GET "/?gross_revenue=475.0" for 127.0.0.1 at 2013-12-05 11:42:00 -0500
Processing by DataImportsController#index as HTML
  Parameters: {"gross_revenue"=>"475.0"}
  Rendered data_imports/index.html.erb within layouts/application (7.7ms)
Completed 200 OK in 15ms (Views: 14.4ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 11:42:00 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 11:42:00 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 11:42:00 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 11:42:00 -0500


Started GET "/assets/data_import.css?body=1" for 127.0.0.1 at 2013-12-05 11:42:00 -0500


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 11:42:00 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 11:42:00 -0500


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 11:46:26 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"MUTYvflxte1RZnn70SxxkPtXwLF14AYKuIJmVTBXRnk=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007fa78be396c8 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-42038-16jnplw>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
  [1m[36mMerchant Load (0.6ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '38ae6c81-0721-40bd-84b6-4fdba510c60d' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 16:46:26 UTC +00:00], ["item_id", "28d5b8ac-596b-4678-8da0-15dba1e10a8d"], ["purchaser_id", "25e0951a-f659-41e7-9417-2105daa9cb22"], ["updated_at", Thu, 05 Dec 2013 16:46:26 UTC +00:00]]
  [1m[35m (1.7ms)[0m  COMMIT
  [1m[36mMerchant Load (0.6ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.5ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '3c1d34c2-8e1b-4598-a0f5-4a32db22176f' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 5], ["created_at", Thu, 05 Dec 2013 16:46:26 UTC +00:00], ["item_id", "dd3362c9-d657-4897-a7aa-8121c644715c"], ["purchaser_id", "512ee88a-d00a-4ef4-9c99-dd74ad920bd1"], ["updated_at", Thu, 05 Dec 2013 16:46:26 UTC +00:00]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mMerchant Load (0.5ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.5ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '9555e3bc-5ae9-41df-a037-95b16634b3dc' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 16:46:26 UTC +00:00], ["item_id", "66a2f154-bee0-45ea-94f5-a9b31753f547"], ["purchaser_id", "0ad889dd-9cf6-47fa-b1a3-fb72ccd04fce"], ["updated_at", Thu, 05 Dec 2013 16:46:26 UTC +00:00]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mMerchant Load (0.5ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.5ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '9555e3bc-5ae9-41df-a037-95b16634b3dc' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 16:46:26 UTC +00:00], ["item_id", "66a2f154-bee0-45ea-94f5-a9b31753f547"], ["purchaser_id", "25e0951a-f659-41e7-9417-2105daa9cb22"], ["updated_at", Thu, 05 Dec 2013 16:46:26 UTC +00:00]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mPurchase Load (0.4ms)[0m  [1mSELECT "purchases".* FROM "purchases"[0m
  [1m[35mItem Load (0.5ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "28d5b8ac-596b-4678-8da0-15dba1e10a8d"]]
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "dd3362c9-d657-4897-a7aa-8121c644715c"]]
  [1m[35mItem Load (0.6ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "66a2f154-bee0-45ea-94f5-a9b31753f547"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "66a2f154-bee0-45ea-94f5-a9b31753f547"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "28d5b8ac-596b-4678-8da0-15dba1e10a8d"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "dd3362c9-d657-4897-a7aa-8121c644715c"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "66a2f154-bee0-45ea-94f5-a9b31753f547"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "66a2f154-bee0-45ea-94f5-a9b31753f547"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "28d5b8ac-596b-4678-8da0-15dba1e10a8d"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "dd3362c9-d657-4897-a7aa-8121c644715c"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "66a2f154-bee0-45ea-94f5-a9b31753f547"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "66a2f154-bee0-45ea-94f5-a9b31753f547"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "28d5b8ac-596b-4678-8da0-15dba1e10a8d"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "dd3362c9-d657-4897-a7aa-8121c644715c"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "66a2f154-bee0-45ea-94f5-a9b31753f547"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "66a2f154-bee0-45ea-94f5-a9b31753f547"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "28d5b8ac-596b-4678-8da0-15dba1e10a8d"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "dd3362c9-d657-4897-a7aa-8121c644715c"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "66a2f154-bee0-45ea-94f5-a9b31753f547"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "66a2f154-bee0-45ea-94f5-a9b31753f547"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "28d5b8ac-596b-4678-8da0-15dba1e10a8d"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "dd3362c9-d657-4897-a7aa-8121c644715c"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "66a2f154-bee0-45ea-94f5-a9b31753f547"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "66a2f154-bee0-45ea-94f5-a9b31753f547"]]
Redirected to http://localhost:3000/?gross_revenue=570.0
Completed 302 Found in 133ms (ActiveRecord: 23.1ms)


Started GET "/?gross_revenue=570.0" for 127.0.0.1 at 2013-12-05 11:46:26 -0500
Processing by DataImportsController#index as HTML
  Parameters: {"gross_revenue"=>"570.0"}
  Rendered data_imports/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 11:46:26 -0500


Started GET "/assets/data_import.css?body=1" for 127.0.0.1 at 2013-12-05 11:46:26 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 11:46:26 -0500


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 11:46:26 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 11:46:26 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 11:46:26 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 11:46:26 -0500


Started GET "/" for 127.0.0.1 at 2013-12-05 12:23:29 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by DataImportsController#index as HTML
  Rendered data_imports/index.html.erb within layouts/application (65.1ms)
Completed 200 OK in 173ms (Views: 142.7ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 12:23:29 -0500


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 12:23:29 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 12:23:29 -0500


Started GET "/assets/data_import.css?body=1" for 127.0.0.1 at 2013-12-05 12:23:29 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 12:23:29 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 12:23:29 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 12:23:29 -0500


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 12:23:36 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"MUTYvflxte1RZnn70SxxkPtXwLF14AYKuIJmVTBXRnk=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007fd511b4bd90 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-47026-lrnk7r>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
  [1m[35mMerchant Load (1.8ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (5.6ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:23:36 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:23:36 UTC +00:00]]
  [1m[36m (3.2ms)[0m  [1mCOMMIT[0m
  [1m[35mItem Load (0.8ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'e35952f0-e985-4bf3-a41c-2e00f5e832e6' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:23:36 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "e35952f0-e985-4bf3-a41c-2e00f5e832e6"], ["price", #<BigDecimal:7fd515821530,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:23:36 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mPurchaser Load (0.9ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:23:36 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:23:36 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:23:36 UTC +00:00], ["item_id", "88225756-465e-49cf-988d-e4ec52ca29f5"], ["purchaser_id", "e1437232-d0ff-4444-8b8a-134568dc090f"], ["updated_at", Thu, 05 Dec 2013 17:23:36 UTC +00:00]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:23:36 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:23:36 UTC +00:00]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '5bb746cf-c0f0-4c8d-a5d8-c6e78f4c4e16' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:23:36 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "5bb746cf-c0f0-4c8d-a5d8-c6e78f4c4e16"], ["price", #<BigDecimal:7fd514aff5f0,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:23:36 UTC +00:00]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:23:36 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:23:36 UTC +00:00]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:23:36 UTC +00:00], ["item_id", "2dffafb1-a343-42b0-bf51-c81a763a2e62"], ["purchaser_id", "3a236959-97d1-41d6-bec6-c2c0faa64d9d"], ["updated_at", Thu, 05 Dec 2013 17:23:36 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mMerchant Load (0.6ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:23:36 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:23:36 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mItem Load (0.5ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'e87fe709-5eba-4234-a171-5f7ea404dc93' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:23:36 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "e87fe709-5eba-4234-a171-5f7ea404dc93"], ["price", #<BigDecimal:7fd5158d8b90,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:23:36 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:23:36 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:23:36 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:23:36 UTC +00:00], ["item_id", "0fce3718-ef01-4530-86f4-99185115ad9a"], ["purchaser_id", "b03e17af-8a95-4873-ad77-c35545b1c01c"], ["updated_at", Thu, 05 Dec 2013 17:23:36 UTC +00:00]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'e87fe709-5eba-4234-a171-5f7ea404dc93' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:23:36 UTC +00:00], ["item_id", "0fce3718-ef01-4530-86f4-99185115ad9a"], ["purchaser_id", "e1437232-d0ff-4444-8b8a-134568dc090f"], ["updated_at", Thu, 05 Dec 2013 17:23:36 UTC +00:00]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36mPurchase Load (0.5ms)[0m  [1mSELECT "purchases".* FROM "purchases"[0m
  [1m[35mItem Load (1.3ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "88225756-465e-49cf-988d-e4ec52ca29f5"]]
  [1m[36mItem Load (0.6ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "2dffafb1-a343-42b0-bf51-c81a763a2e62"]]
  [1m[35mItem Load (0.5ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "0fce3718-ef01-4530-86f4-99185115ad9a"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "0fce3718-ef01-4530-86f4-99185115ad9a"]]
Redirected to http://localhost:3000/?gross_revenue=95.0
Completed 302 Found in 289ms (ActiveRecord: 49.7ms)


Started GET "/?gross_revenue=95.0" for 127.0.0.1 at 2013-12-05 12:23:36 -0500
Processing by DataImportsController#index as HTML
  Parameters: {"gross_revenue"=>"95.0"}
  Rendered data_imports/index.html.erb within layouts/application (10.8ms)
Completed 200 OK in 18ms (Views: 16.9ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 12:23:36 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 12:23:36 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 12:23:36 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 12:23:36 -0500


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 12:23:36 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 12:23:36 -0500
  [1m[36m (31.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to EnableUuidOsspExtension (20131204203351)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (67.0ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "uuid-ossp"[0m
  [1m[35mSQL (122.8ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131204203351"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
Migrating to CreatePurchasers (20131204203459)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (27.9ms)[0m  [1mCREATE TABLE "purchasers" ("id" uuid PRIMARY KEY DEFAULT uuid_generate_v4(), "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.3ms)[0m  CREATE INDEX "index_purchasers_on_name" ON "purchasers" ("name")
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20131204203459"]]
  [1m[35m (0.8ms)[0m  COMMIT
Migrating to CreatePurchases (20131204203720)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (8.0ms)[0m  CREATE TABLE "purchases" ("id" uuid PRIMARY KEY DEFAULT uuid_generate_v4(), "count" integer, "item_id" uuid, "purchaser_id" uuid, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.1ms)[0m  [1mCREATE INDEX "index_purchases_on_purchaser_id" ON "purchases" ("purchaser_id")[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131204203720"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
Migrating to CreateItems (20131204203830)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (8.7ms)[0m  [1mCREATE TABLE "items" ("id" uuid PRIMARY KEY DEFAULT uuid_generate_v4(), "description" character varying(255), "price" decimal(8,2), "merchant_id" uuid, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (6.8ms)[0m  CREATE INDEX "index_items_on_merchant_id" ON "items" ("merchant_id")
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20131204203830"]]
  [1m[35m (4.8ms)[0m  COMMIT
Migrating to CreateMerchants (20131204203849)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (20.9ms)[0m  CREATE TABLE "merchants" ("id" uuid PRIMARY KEY DEFAULT uuid_generate_v4(), "address" character varying(255), "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20131204203849"]]
  [1m[35m (1.0ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m


Started GET "/" for 127.0.0.1 at 2013-12-05 13:33:15 -0500
  [1m[36mActiveRecord::SchemaMigration Load (8.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by DataImportsController#index as HTML
  Rendered data_imports/index.html.erb within layouts/application (61.4ms)
Completed 200 OK in 151ms (Views: 127.7ms | ActiveRecord: 0.0ms)


Started GET "/assets/data_import.css?body=1" for 127.0.0.1 at 2013-12-05 13:33:16 -0500


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 13:33:16 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 13:33:16 -0500


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 13:33:16 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 13:33:16 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 13:33:16 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 13:33:16 -0500


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 13:33:33 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"MUTYvflxte1RZnn70SxxkPtXwLF14AYKuIJmVTBXRnk=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007fc3ba4293e0 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-47976-1dv43m4>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
  [1m[35mMerchant Load (24.8ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (40.6ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 18:33:33 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 18:33:33 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mItem Load (13.9ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'bfa79b41-c2ab-4265-a094-5815e38eb18a' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (20.7ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 18:33:33 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "bfa79b41-c2ab-4265-a094-5815e38eb18a"], ["price", #<BigDecimal:7fc3bc1bf558,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 18:33:33 UTC +00:00]]
  [1m[36m (4.7ms)[0m  [1mCOMMIT[0m
  [1m[35mPurchaser Load (8.1ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (21.6ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 18:33:33 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 18:33:33 UTC +00:00]]
  [1m[36m (6.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (24.5ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 18:33:33 UTC +00:00], ["item_id", "f7d90c25-7ff9-4ef1-a52f-f532aa369950"], ["purchaser_id", "4704283c-a7ab-48c1-9bad-25866bdae036"], ["updated_at", Thu, 05 Dec 2013 18:33:33 UTC +00:00]]
  [1m[35m (6.4ms)[0m  COMMIT
  [1m[36mMerchant Load (0.8ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 18:33:33 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 18:33:33 UTC +00:00]]
  [1m[35m (6.1ms)[0m  COMMIT
  [1m[36mItem Load (0.7ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '6ba0531b-b207-44a5-8681-5309d3f79f59' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 18:33:34 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "6ba0531b-b207-44a5-8681-5309d3f79f59"], ["price", #<BigDecimal:7fc3bc27c928,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 18:33:34 UTC +00:00]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mPurchaser Load (0.6ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 18:33:34 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 18:33:34 UTC +00:00]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 18:33:34 UTC +00:00], ["item_id", "0acf5533-d4f9-4e1f-99fd-372115e269fb"], ["purchaser_id", "22cafea4-58e1-43e8-ba9b-db55bc77bda1"], ["updated_at", Thu, 05 Dec 2013 18:33:34 UTC +00:00]]
  [1m[36m (5.8ms)[0m  [1mCOMMIT[0m
  [1m[35mMerchant Load (0.7ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 18:33:34 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 18:33:34 UTC +00:00]]
  [1m[36m (6.3ms)[0m  [1mCOMMIT[0m
  [1m[35mItem Load (0.8ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'db9f97bc-4c15-4534-b064-c3168c149e5e' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 18:33:34 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "db9f97bc-4c15-4534-b064-c3168c149e5e"], ["price", #<BigDecimal:7fc3bc2bfea8,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 18:33:34 UTC +00:00]]
  [1m[36m (6.3ms)[0m  [1mCOMMIT[0m
  [1m[35mPurchaser Load (0.5ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 18:33:34 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 18:33:34 UTC +00:00]]
  [1m[36m (5.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 18:33:34 UTC +00:00], ["item_id", "823d45d7-11eb-4fd6-938a-fdc3d6561c65"], ["purchaser_id", "a55dbdb8-cf11-4049-ba00-32b1167baac9"], ["updated_at", Thu, 05 Dec 2013 18:33:34 UTC +00:00]]
  [1m[35m (6.1ms)[0m  COMMIT
  [1m[36mMerchant Load (6.6ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (1.5ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'db9f97bc-4c15-4534-b064-c3168c149e5e' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.7ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 18:33:34 UTC +00:00], ["item_id", "823d45d7-11eb-4fd6-938a-fdc3d6561c65"], ["purchaser_id", "4704283c-a7ab-48c1-9bad-25866bdae036"], ["updated_at", Thu, 05 Dec 2013 18:33:34 UTC +00:00]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36mPurchase Load (0.8ms)[0m  [1mSELECT "purchases".* FROM "purchases"[0m
  [1m[35mItem Load (0.9ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "f7d90c25-7ff9-4ef1-a52f-f532aa369950"]]
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "0acf5533-d4f9-4e1f-99fd-372115e269fb"]]
  [1m[35mItem Load (0.7ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "823d45d7-11eb-4fd6-938a-fdc3d6561c65"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "823d45d7-11eb-4fd6-938a-fdc3d6561c65"]]
Redirected to http://localhost:3000/?gross_revenue=95.0
Completed 302 Found in 556ms (ActiveRecord: 267.3ms)


Started GET "/?gross_revenue=95.0" for 127.0.0.1 at 2013-12-05 13:33:34 -0500
Processing by DataImportsController#index as HTML
  Parameters: {"gross_revenue"=>"95.0"}
  Rendered data_imports/index.html.erb within layouts/application (11.1ms)
Completed 200 OK in 21ms (Views: 20.1ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 13:33:34 -0500


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 13:33:34 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 13:33:34 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 13:33:34 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 13:33:34 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 13:33:34 -0500


Started GET "/" for 127.0.0.1 at 2013-12-05 14:07:47 -0500
  [1m[36mActiveRecord::SchemaMigration Load (25.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by DataImportsController#index as HTML
  Rendered data_imports/index.html.erb within layouts/application (74.2ms)
Completed 200 OK in 179ms (Views: 150.6ms | ActiveRecord: 0.0ms)


Started GET "/assets/data_import.css?body=1" for 127.0.0.1 at 2013-12-05 14:07:48 -0500


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 14:07:48 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 14:07:48 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 14:07:48 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 14:07:48 -0500


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 14:07:48 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 14:07:48 -0500


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 14:07:55 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"MUTYvflxte1RZnn70SxxkPtXwLF14AYKuIJmVTBXRnk=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007fd373372c30 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-63179-a4ibow>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
  [1m[35mMerchant Load (28.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (13.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'bfa79b41-c2ab-4265-a094-5815e38eb18a' ORDER BY "items"."id" ASC LIMIT 1[0m
Redirected to http://localhost:3000/?error_msg=There+was+a+problem+importing+the+file+uninitialized+constant+DataImport%3A%3AKEYS
Completed 302 Found in 150ms (ActiveRecord: 72.9ms)


Started GET "/?error_msg=There+was+a+problem+importing+the+file+uninitialized+constant+DataImport%3A%3AKEYS" for 127.0.0.1 at 2013-12-05 14:07:55 -0500
Processing by DataImportsController#index as HTML
  Parameters: {"error_msg"=>"There was a problem importing the file uninitialized constant DataImport::KEYS"}
  Rendered data_imports/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 14:07:55 -0500


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 14:07:55 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 14:07:55 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 14:07:55 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 14:07:55 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 14:07:55 -0500


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 14:08:28 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"MUTYvflxte1RZnn70SxxkPtXwLF14AYKuIJmVTBXRnk=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007fd373c2b340 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-63179-b5yqy6>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
  [1m[35mMerchant Load (1.0ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'bfa79b41-c2ab-4265-a094-5815e38eb18a' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (17.2ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (35.7ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 2], ["created_at", Thu, 05 Dec 2013 19:08:28 UTC +00:00], ["item_id", "f7d90c25-7ff9-4ef1-a52f-f532aa369950"], ["purchaser_id", "4704283c-a7ab-48c1-9bad-25866bdae036"], ["updated_at", Thu, 05 Dec 2013 19:08:28 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35mMerchant Load (0.8ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.6ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '6ba0531b-b207-44a5-8681-5309d3f79f59' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 19:08:28 UTC +00:00], ["item_id", "0acf5533-d4f9-4e1f-99fd-372115e269fb"], ["purchaser_id", "22cafea4-58e1-43e8-ba9b-db55bc77bda1"], ["updated_at", Thu, 05 Dec 2013 19:08:28 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'db9f97bc-4c15-4534-b064-c3168c149e5e' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.3ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 1], ["created_at", Thu, 05 Dec 2013 19:08:28 UTC +00:00], ["item_id", "823d45d7-11eb-4fd6-938a-fdc3d6561c65"], ["purchaser_id", "a55dbdb8-cf11-4049-ba00-32b1167baac9"], ["updated_at", Thu, 05 Dec 2013 19:08:28 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'db9f97bc-4c15-4534-b064-c3168c149e5e' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.3ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 19:08:28 UTC +00:00], ["item_id", "823d45d7-11eb-4fd6-938a-fdc3d6561c65"], ["purchaser_id", "4704283c-a7ab-48c1-9bad-25866bdae036"], ["updated_at", Thu, 05 Dec 2013 19:08:28 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mPurchase Load (0.6ms)[0m  SELECT "purchases".* FROM "purchases"
  [1m[36mItem Load (14.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "f7d90c25-7ff9-4ef1-a52f-f532aa369950"]]
  [1m[35mItem Load (0.5ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "0acf5533-d4f9-4e1f-99fd-372115e269fb"]]
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "823d45d7-11eb-4fd6-938a-fdc3d6561c65"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "823d45d7-11eb-4fd6-938a-fdc3d6561c65"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "f7d90c25-7ff9-4ef1-a52f-f532aa369950"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "0acf5533-d4f9-4e1f-99fd-372115e269fb"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "823d45d7-11eb-4fd6-938a-fdc3d6561c65"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "823d45d7-11eb-4fd6-938a-fdc3d6561c65"]]
Redirected to http://localhost:3000/?gross_revenue=190.0
Completed 302 Found in 305ms (ActiveRecord: 90.0ms)


Started GET "/?gross_revenue=190.0" for 127.0.0.1 at 2013-12-05 14:08:28 -0500
Processing by DataImportsController#index as HTML
  Parameters: {"gross_revenue"=>"190.0"}
  Rendered data_imports/index.html.erb within layouts/application (13.3ms)
Completed 200 OK in 24ms (Views: 23.2ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 14:08:28 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 14:08:28 -0500


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 14:08:28 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 14:08:28 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 14:08:28 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 14:08:28 -0500
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to EnableUuidOsspExtension (20131204203351)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131204203351"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to CreatePurchasers (20131204203459)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  CREATE TABLE "purchasers" ("id" uuid, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mCREATE INDEX "index_purchasers_on_name" ON "purchasers" ("name")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131204203459"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
Migrating to CreatePurchases (20131204203720)
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (2.6ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (1.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreatePurchasers (20131204203459)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "purchasers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE INDEX "index_purchasers_on_name" ON "purchasers" ("name")
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131204203459"]]
  [1m[35m (1.0ms)[0m  commit transaction
Migrating to CreatePurchases (20131204203720)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreatePurchasers (20131204203459)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "purchasers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_purchasers_on_name" ON "purchasers" ("name")
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131204203459"]]
  [1m[35m (1.3ms)[0m  commit transaction
Migrating to CreatePurchases (20131204203720)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "purchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "count" integer, "item_id" integer, "purchaser_id" integer, "data_import_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_purchases_on_purchaser_id" ON "purchases" ("purchaser_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131204203720"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Migrating to CreateItems (20131204203830)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "description" varchar(255), "price" decimal(8,2), "merchant_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE INDEX "index_items_on_merchant_id" ON "items" ("merchant_id")
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131204203830"]]
  [1m[35m (1.1ms)[0m  commit transaction
Migrating to CreateMerchants (20131204203849)
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "merchants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "address" varchar(255), "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131204203849"]]
  [1m[35m (1.2ms)[0m  commit transaction
Migrating to CreateDataImports (20131204212838)
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "data_imports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "file_path" varchar(255), "file_hash" varchar(255), "completed" boolean, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131204212838"]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m


Started GET "/" for 127.0.0.1 at 2013-12-05 14:45:00 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by DataImportsController#index as HTML
  Rendered data_imports/index.html.erb within layouts/application (4.7ms)
Completed 200 OK in 159ms (Views: 137.9ms | ActiveRecord: 0.0ms)


Started GET "/assets/data_import.css?body=1" for 127.0.0.1 at 2013-12-05 14:45:01 -0500


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 14:45:01 -0500


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 14:45:01 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 14:45:01 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 14:45:01 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 14:45:01 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 14:45:01 -0500


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 14:45:08 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"h7Cl6VR+In6nTS9FnEREjyNVhtYqh/eR7MVLJwO6pWI=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007f9f5700a1b0 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-66160-1exz8eb>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
Redirected to http://localhost:3000/?error_msg=There+was+a+problem+importing+the+file+uninitialized+constant+DataImportsController%3A%3ADatImport
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)


Started GET "/?error_msg=There+was+a+problem+importing+the+file+uninitialized+constant+DataImportsController%3A%3ADatImport" for 127.0.0.1 at 2013-12-05 14:45:08 -0500
Processing by DataImportsController#index as HTML
  Parameters: {"error_msg"=>"There was a problem importing the file uninitialized constant DataImportsController::DatImport"}
  Rendered data_imports/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.0ms)


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 14:45:42 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"h7Cl6VR+In6nTS9FnEREjyNVhtYqh/eR7MVLJwO6pWI=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007f9f5718ed88 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-66160-9q4h37>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
Redirected to http://localhost:3000/?error_msg=There+was+a+problem+importing+the+file+undefined+method+%60delete%27+for+nil%3ANilClass
Completed 302 Found in 46ms (ActiveRecord: 0.7ms)


Started GET "/?error_msg=There+was+a+problem+importing+the+file+undefined+method+%60delete%27+for+nil%3ANilClass" for 127.0.0.1 at 2013-12-05 14:45:43 -0500
Processing by DataImportsController#index as HTML
  Parameters: {"error_msg"=>"There was a problem importing the file undefined method `delete' for nil:NilClass"}
  Rendered data_imports/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms)


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 14:46:44 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"h7Cl6VR+In6nTS9FnEREjyNVhtYqh/eR7MVLJwO6pWI=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007f9f561b5240 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-66160-v5httk>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
Redirected to http://localhost:3000/?error_msg=There+was+a+problem+importing+the+file+undefined+method+%60delete%27+for+nil%3ANilClass+%5B%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factiverecord-4.0.1%2Flib%2Factive_record%2Fattribute_methods%2Fwrite.rb%3A35%3Ain+%60write_attribute%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factiverecord-4.0.1%2Flib%2Factive_record%2Fattribute_methods%2Fdirty.rb%3A70%3Ain+%60write_attribute%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factiverecord-4.0.1%2Flib%2Factive_record%2Fattribute_methods%2Fwrite.rb%3A21%3Ain+%60__temp__6696c656f507164786%3D%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factiverecord-4.0.1%2Flib%2Factive_record%2Fattribute_methods.rb%3A150%3Ain+%60method_missing%27%22%2C+%22%2FUsers%2Fjpayne%2Fprojects%2Fdata-engineering%2Fapp%2Fmodels%2Fdata_import.rb%3A8%3Ain+%60initialize%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factiverecord-4.0.1%2Flib%2Factive_record%2Finheritance.rb%3A27%3Ain+%60new%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factiverecord-4.0.1%2Flib%2Factive_record%2Finheritance.rb%3A27%3Ain+%60new%27%22%2C+%22%2FUsers%2Fjpayne%2Fprojects%2Fdata-engineering%2Fapp%2Fcontrollers%2Fdata_imports_controller.rb%3A11%3Ain+%60import%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_controller%2Fmetal%2Fimplicit_render.rb%3A4%3Ain+%60send_action%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Fabstract_controller%2Fbase.rb%3A189%3Ain+%60process_action%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_controller%2Fmetal%2Frendering.rb%3A10%3Ain+%60process_action%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Fabstract_controller%2Fcallbacks.rb%3A18%3Ain+%60block+in+process_action%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factivesupport-4.0.1%2Flib%2Factive_support%2Fcallbacks.rb%3A403%3Ain+%60_run__860137271745289029__process_action__callbacks%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factivesupport-4.0.1%2Flib%2Factive_support%2Fcallbacks.rb%3A80%3Ain+%60run_callbacks%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Fabstract_controller%2Fcallbacks.rb%3A17%3Ain+%60process_action%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_controller%2Fmetal%2Frescue.rb%3A29%3Ain+%60process_action%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_controller%2Fmetal%2Finstrumentation.rb%3A31%3Ain+%60block+in+process_action%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factivesupport-4.0.1%2Flib%2Factive_support%2Fnotifications.rb%3A159%3Ain+%60block+in+instrument%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factivesupport-4.0.1%2Flib%2Factive_support%2Fnotifications%2Finstrumenter.rb%3A20%3Ain+%60instrument%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factivesupport-4.0.1%2Flib%2Factive_support%2Fnotifications.rb%3A159%3Ain+%60instrument%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_controller%2Fmetal%2Finstrumentation.rb%3A30%3Ain+%60process_action%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_controller%2Fmetal%2Fparams_wrapper.rb%3A245%3Ain+%60process_action%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factiverecord-4.0.1%2Flib%2Factive_record%2Frailties%2Fcontroller_runtime.rb%3A18%3Ain+%60process_action%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Fabstract_controller%2Fbase.rb%3A136%3Ain+%60process%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Fabstract_controller%2Frendering.rb%3A44%3Ain+%60process%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_controller%2Fmetal.rb%3A195%3Ain+%60dispatch%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_controller%2Fmetal%2Frack_delegation.rb%3A13%3Ain+%60dispatch%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_controller%2Fmetal.rb%3A231%3Ain+%60block+in+action%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Frouting%2Froute_set.rb%3A80%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Frouting%2Froute_set.rb%3A80%3Ain+%60dispatch%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Frouting%2Froute_set.rb%3A48%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Fjourney%2Frouter.rb%3A71%3Ain+%60block+in+call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Fjourney%2Frouter.rb%3A59%3Ain+%60each%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Fjourney%2Frouter.rb%3A59%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Frouting%2Froute_set.rb%3A680%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frack-1.5.2%2Flib%2Frack%2Fetag.rb%3A23%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frack-1.5.2%2Flib%2Frack%2Fconditionalget.rb%3A35%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frack-1.5.2%2Flib%2Frack%2Fhead.rb%3A11%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Fmiddleware%2Fparams_parser.rb%3A27%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Fmiddleware%2Fflash.rb%3A241%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frack-1.5.2%2Flib%2Frack%2Fsession%2Fabstract%2Fid.rb%3A225%3Ain+%60context%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frack-1.5.2%2Flib%2Frack%2Fsession%2Fabstract%2Fid.rb%3A220%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Fmiddleware%2Fcookies.rb%3A486%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factiverecord-4.0.1%2Flib%2Factive_record%2Fquery_cache.rb%3A36%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factiverecord-4.0.1%2Flib%2Factive_record%2Fconnection_adapters%2Fabstract%2Fconnection_pool.rb%3A626%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factiverecord-4.0.1%2Flib%2Factive_record%2Fmigration.rb%3A369%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Fmiddleware%2Fcallbacks.rb%3A29%3Ain+%60block+in+call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factivesupport-4.0.1%2Flib%2Factive_support%2Fcallbacks.rb%3A373%3Ain+%60_run__3773993589450463481__call__callbacks%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factivesupport-4.0.1%2Flib%2Factive_support%2Fcallbacks.rb%3A80%3Ain+%60run_callbacks%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Fmiddleware%2Fcallbacks.rb%3A27%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Fmiddleware%2Freloader.rb%3A64%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Fmiddleware%2Fremote_ip.rb%3A76%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Fmiddleware%2Fdebug_exceptions.rb%3A17%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Fmiddleware%2Fshow_exceptions.rb%3A30%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frailties-4.0.1%2Flib%2Frails%2Frack%2Flogger.rb%3A38%3Ain+%60call_app%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frailties-4.0.1%2Flib%2Frails%2Frack%2Flogger.rb%3A20%3Ain+%60block+in+call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factivesupport-4.0.1%2Flib%2Factive_support%2Ftagged_logging.rb%3A67%3Ain+%60block+in+tagged%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factivesupport-4.0.1%2Flib%2Factive_support%2Ftagged_logging.rb%3A25%3Ain+%60tagged%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factivesupport-4.0.1%2Flib%2Factive_support%2Ftagged_logging.rb%3A67%3Ain+%60tagged%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frailties-4.0.1%2Flib%2Frails%2Frack%2Flogger.rb%3A20%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Fmiddleware%2Frequest_id.rb%3A21%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frack-1.5.2%2Flib%2Frack%2Fmethodoverride.rb%3A21%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frack-1.5.2%2Flib%2Frack%2Fruntime.rb%3A17%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factivesupport-4.0.1%2Flib%2Factive_support%2Fcache%2Fstrategy%2Flocal_cache.rb%3A83%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frack-1.5.2%2Flib%2Frack%2Flock.rb%3A17%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Fmiddleware%2Fstatic.rb%3A64%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frack-1.5.2%2Flib%2Frack%2Fsendfile.rb%3A112%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frailties-4.0.1%2Flib%2Frails%2Fengine.rb%3A511%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frailties-4.0.1%2Flib%2Frails%2Fapplication.rb%3A97%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frack-1.5.2%2Flib%2Frack%2Flock.rb%3A17%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frack-1.5.2%2Flib%2Frack%2Fcontent_length.rb%3A14%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frack-1.5.2%2Flib%2Frack%2Fhandler%2Fwebrick.rb%3A60%3Ain+%60service%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2F2.0.0%2Fwebrick%2Fhttpserver.rb%3A138%3Ain+%60service%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2F2.0.0%2Fwebrick%2Fhttpserver.rb%3A94%3Ain+%60run%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2F2.0.0%2Fwebrick%2Fserver.rb%3A295%3Ain+%60block+in+start_thread%27%22%5D
Completed 302 Found in 62ms (ActiveRecord: 0.7ms)

ActionDispatch::Cookies::CookieOverflow (ActionDispatch::Cookies::CookieOverflow):
  actionpack (4.0.1) lib/action_dispatch/middleware/cookies.rb:455:in `[]='
  actionpack (4.0.1) lib/action_dispatch/middleware/session/cookie_store.rb:109:in `set_cookie'
  rack (1.5.2) lib/rack/session/abstract/id.rb:350:in `commit_session'
  rack (1.5.2) lib/rack/session/abstract/id.rb:226:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.1) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.1) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.1) lib/active_support/callbacks.rb:373:in `_run__3773993589450463481__call__callbacks'
  activesupport (4.0.1) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.1) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.1) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.0.1) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.1) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.1) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.1) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.1) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.0.1) lib/rails/engine.rb:511:in `call'
  railties (4.0.1) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/2.0.0/webrick/httpserver.rb:138:in `service'
  /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/2.0.0/webrick/httpserver.rb:94:in `run'
  /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/2.0.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.0ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.1ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.4ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (32.3ms)


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 14:47:54 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"h7Cl6VR+In6nTS9FnEREjyNVhtYqh/eR7MVLJwO6pWI=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007f9f571edba8 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-66160-13rcz0a>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
Redirected to http://localhost:3000/?error_msg=There+was+a+problem+importing+the+file+undefined+method+%60delete%27+for+nil%3ANilClass+%5B%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factiverecord-4.0.1%2Flib%2Factive_record%2Fattribute_methods%2Fwrite.rb%3A35%3Ain+%60write_attribute%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factiverecord-4.0.1%2Flib%2Factive_record%2Fattribute_methods%2Fdirty.rb%3A70%3Ain+%60write_attribute%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factiverecord-4.0.1%2Flib%2Factive_record%2Fattribute_methods%2Fwrite.rb%3A21%3Ain+%60__temp__6696c656f507164786%3D%27%22%2C+%22%2FUsers%2Fjpayne%2Fprojects%2Fdata-engineering%2Fapp%2Fmodels%2Fdata_import.rb%3A8%3Ain+%60initialize%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factiverecord-4.0.1%2Flib%2Factive_record%2Finheritance.rb%3A27%3Ain+%60new%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factiverecord-4.0.1%2Flib%2Factive_record%2Finheritance.rb%3A27%3Ain+%60new%27%22%2C+%22%2FUsers%2Fjpayne%2Fprojects%2Fdata-engineering%2Fapp%2Fcontrollers%2Fdata_imports_controller.rb%3A11%3Ain+%60import%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_controller%2Fmetal%2Fimplicit_render.rb%3A4%3Ain+%60send_action%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Fabstract_controller%2Fbase.rb%3A189%3Ain+%60process_action%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_controller%2Fmetal%2Frendering.rb%3A10%3Ain+%60process_action%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Fabstract_controller%2Fcallbacks.rb%3A18%3Ain+%60block+in+process_action%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factivesupport-4.0.1%2Flib%2Factive_support%2Fcallbacks.rb%3A403%3Ain+%60_run__860137271745289029__process_action__callbacks%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factivesupport-4.0.1%2Flib%2Factive_support%2Fcallbacks.rb%3A80%3Ain+%60run_callbacks%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Fabstract_controller%2Fcallbacks.rb%3A17%3Ain+%60process_action%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_controller%2Fmetal%2Frescue.rb%3A29%3Ain+%60process_action%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_controller%2Fmetal%2Finstrumentation.rb%3A31%3Ain+%60block+in+process_action%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factivesupport-4.0.1%2Flib%2Factive_support%2Fnotifications.rb%3A159%3Ain+%60block+in+instrument%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factivesupport-4.0.1%2Flib%2Factive_support%2Fnotifications%2Finstrumenter.rb%3A20%3Ain+%60instrument%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factivesupport-4.0.1%2Flib%2Factive_support%2Fnotifications.rb%3A159%3Ain+%60instrument%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_controller%2Fmetal%2Finstrumentation.rb%3A30%3Ain+%60process_action%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_controller%2Fmetal%2Fparams_wrapper.rb%3A245%3Ain+%60process_action%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factiverecord-4.0.1%2Flib%2Factive_record%2Frailties%2Fcontroller_runtime.rb%3A18%3Ain+%60process_action%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Fabstract_controller%2Fbase.rb%3A136%3Ain+%60process%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Fabstract_controller%2Frendering.rb%3A44%3Ain+%60process%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_controller%2Fmetal.rb%3A195%3Ain+%60dispatch%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_controller%2Fmetal%2Frack_delegation.rb%3A13%3Ain+%60dispatch%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_controller%2Fmetal.rb%3A231%3Ain+%60block+in+action%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Frouting%2Froute_set.rb%3A80%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Frouting%2Froute_set.rb%3A80%3Ain+%60dispatch%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Frouting%2Froute_set.rb%3A48%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Fjourney%2Frouter.rb%3A71%3Ain+%60block+in+call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Fjourney%2Frouter.rb%3A59%3Ain+%60each%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Fjourney%2Frouter.rb%3A59%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Frouting%2Froute_set.rb%3A680%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frack-1.5.2%2Flib%2Frack%2Fetag.rb%3A23%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frack-1.5.2%2Flib%2Frack%2Fconditionalget.rb%3A35%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frack-1.5.2%2Flib%2Frack%2Fhead.rb%3A11%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Fmiddleware%2Fparams_parser.rb%3A27%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Fmiddleware%2Fflash.rb%3A241%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frack-1.5.2%2Flib%2Frack%2Fsession%2Fabstract%2Fid.rb%3A225%3Ain+%60context%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frack-1.5.2%2Flib%2Frack%2Fsession%2Fabstract%2Fid.rb%3A220%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Fmiddleware%2Fcookies.rb%3A486%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factiverecord-4.0.1%2Flib%2Factive_record%2Fquery_cache.rb%3A36%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factiverecord-4.0.1%2Flib%2Factive_record%2Fconnection_adapters%2Fabstract%2Fconnection_pool.rb%3A626%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factiverecord-4.0.1%2Flib%2Factive_record%2Fmigration.rb%3A369%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Fmiddleware%2Fcallbacks.rb%3A29%3Ain+%60block+in+call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factivesupport-4.0.1%2Flib%2Factive_support%2Fcallbacks.rb%3A373%3Ain+%60_run__3773993589450463481__call__callbacks%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factivesupport-4.0.1%2Flib%2Factive_support%2Fcallbacks.rb%3A80%3Ain+%60run_callbacks%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Fmiddleware%2Fcallbacks.rb%3A27%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Fmiddleware%2Freloader.rb%3A64%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Fmiddleware%2Fremote_ip.rb%3A76%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Fmiddleware%2Fdebug_exceptions.rb%3A17%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Fmiddleware%2Fshow_exceptions.rb%3A30%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frailties-4.0.1%2Flib%2Frails%2Frack%2Flogger.rb%3A38%3Ain+%60call_app%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frailties-4.0.1%2Flib%2Frails%2Frack%2Flogger.rb%3A20%3Ain+%60block+in+call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factivesupport-4.0.1%2Flib%2Factive_support%2Ftagged_logging.rb%3A67%3Ain+%60block+in+tagged%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factivesupport-4.0.1%2Flib%2Factive_support%2Ftagged_logging.rb%3A25%3Ain+%60tagged%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factivesupport-4.0.1%2Flib%2Factive_support%2Ftagged_logging.rb%3A67%3Ain+%60tagged%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frailties-4.0.1%2Flib%2Frails%2Frack%2Flogger.rb%3A20%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Fmiddleware%2Frequest_id.rb%3A21%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frack-1.5.2%2Flib%2Frack%2Fmethodoverride.rb%3A21%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frack-1.5.2%2Flib%2Frack%2Fruntime.rb%3A17%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factivesupport-4.0.1%2Flib%2Factive_support%2Fcache%2Fstrategy%2Flocal_cache.rb%3A83%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frack-1.5.2%2Flib%2Frack%2Flock.rb%3A17%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Factionpack-4.0.1%2Flib%2Faction_dispatch%2Fmiddleware%2Fstatic.rb%3A64%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frack-1.5.2%2Flib%2Frack%2Fsendfile.rb%3A112%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frailties-4.0.1%2Flib%2Frails%2Fengine.rb%3A511%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frailties-4.0.1%2Flib%2Frails%2Fapplication.rb%3A97%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frack-1.5.2%2Flib%2Frack%2Flock.rb%3A17%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frack-1.5.2%2Flib%2Frack%2Fcontent_length.rb%3A14%3Ain+%60call%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2Fgems%2F2.0.0%2Fgems%2Frack-1.5.2%2Flib%2Frack%2Fhandler%2Fwebrick.rb%3A60%3Ain+%60service%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2F2.0.0%2Fwebrick%2Fhttpserver.rb%3A138%3Ain+%60service%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2F2.0.0%2Fwebrick%2Fhttpserver.rb%3A94%3Ain+%60run%27%22%2C+%22%2FUsers%2Fjpayne%2F.rbenv%2Fversions%2F2.0.0-p0%2Flib%2Fruby%2F2.0.0%2Fwebrick%2Fserver.rb%3A295%3Ain+%60block+in+start_thread%27%22%5D
Completed 302 Found in 85ms (ActiveRecord: 0.0ms)

ActionDispatch::Cookies::CookieOverflow (ActionDispatch::Cookies::CookieOverflow):
  actionpack (4.0.1) lib/action_dispatch/middleware/cookies.rb:455:in `[]='
  actionpack (4.0.1) lib/action_dispatch/middleware/session/cookie_store.rb:109:in `set_cookie'
  rack (1.5.2) lib/rack/session/abstract/id.rb:350:in `commit_session'
  rack (1.5.2) lib/rack/session/abstract/id.rb:226:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.1) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.1) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.1) lib/active_support/callbacks.rb:373:in `_run__3773993589450463481__call__callbacks'
  activesupport (4.0.1) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.1) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.1) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.0.1) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.1) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.1) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.1) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.1) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.0.1) lib/rails/engine.rb:511:in `call'
  railties (4.0.1) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/2.0.0/webrick/httpserver.rb:138:in `service'
  /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/2.0.0/webrick/httpserver.rb:94:in `run'
  /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/2.0.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.9ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.8ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (33.2ms)


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 14:48:16 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"h7Cl6VR+In6nTS9FnEREjyNVhtYqh/eR7MVLJwO6pWI=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007f9f537a7de0 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-66160-1sm8tu1>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
Completed 500 Internal Server Error in 23ms

NoMethodError (undefined method `delete' for nil:NilClass):
  app/models/data_import.rb:8:in `initialize'
  app/controllers/data_imports_controller.rb:11:in `import'


  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.2ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.0ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.9ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (24.5ms)


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 14:48:52 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"h7Cl6VR+In6nTS9FnEREjyNVhtYqh/eR7MVLJwO6pWI=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007f9f562512f8 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-66160-76wfoi>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
Completed 500 Internal Server Error in 16ms

NoMethodError (undefined method `delete' for nil:NilClass):
  app/models/data_import.rb:9:in `initialize'
  app/controllers/data_imports_controller.rb:11:in `import'


  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.1ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.4ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.9ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (35.1ms)


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 14:49:09 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"h7Cl6VR+In6nTS9FnEREjyNVhtYqh/eR7MVLJwO6pWI=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007f9f52ab73b0 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-66160-1o264mh>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
Completed 500 Internal Server Error in 90ms

NoMethodError (undefined method `delete' for nil:NilClass):
  app/models/data_import.rb:9:in `initialize'
  app/controllers/data_imports_controller.rb:11:in `import'


  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.3ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.9ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.7ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (30.5ms)


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 14:49:28 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"h7Cl6VR+In6nTS9FnEREjyNVhtYqh/eR7MVLJwO6pWI=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007f9f57055ea8 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-66160-1b5bi3p>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
Completed 500 Internal Server Error in 28ms

NoMethodError (undefined method `delete' for nil:NilClass):
  app/models/data_import.rb:9:in `initialize'
  app/controllers/data_imports_controller.rb:11:in `import'


  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.2ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.9ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.7ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (23.9ms)


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 14:49:57 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"h7Cl6VR+In6nTS9FnEREjyNVhtYqh/eR7MVLJwO6pWI=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007f9f5637cda8 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-66160-1ovu149>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
Completed 500 Internal Server Error in 7ms

NoMethodError (undefined method `keys' for nil:NilClass):
  app/models/data_import.rb:8:in `initialize'
  app/controllers/data_imports_controller.rb:11:in `import'


  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.3ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.4ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (31.5ms)
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreatePurchasers (20131204203459)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "purchasers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_purchasers_on_name" ON "purchasers" ("name")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131204203459"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreatePurchases (20131204203720)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "purchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "count" integer, "item_id" integer, "purchaser_id" integer, "data_import_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_purchases_on_purchaser_id" ON "purchases" ("purchaser_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131204203720"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateItems (20131204203830)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "description" varchar(255), "price" decimal(8,2), "merchant_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_items_on_merchant_id" ON "items" ("merchant_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131204203830"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateMerchants (20131204203849)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "merchants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "address" varchar(255), "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131204203849"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to CreateDataImports (20131204212838)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "data_imports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "file_path" varchar(255), "file_hash" varchar(255), "completed" boolean, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131204212838"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m


Started GET "/" for 127.0.0.1 at 2013-12-05 15:02:51 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by DataImportsController#index as HTML
  Rendered data_imports/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 70ms (Views: 57.7ms | ActiveRecord: 0.0ms)


Started GET "/assets/data_import.css?body=1" for 127.0.0.1 at 2013-12-05 15:02:51 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 15:02:51 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 15:02:51 -0500


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 15:02:51 -0500


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 15:02:51 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 15:02:51 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 15:02:51 -0500


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 15:03:06 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PkfQCZw5c3hvibR9PvhH70C+bBAJrFXlieYS8zA1PLU=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007fa07a584798 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-72735-13tkmik>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
Completed 500 Internal Server Error in 14ms

NoMethodError (undefined method `keys' for nil:NilClass):
  app/models/data_import.rb:8:in `initialize'
  app/controllers/data_imports_controller.rb:11:in `import'


  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.4ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.8ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (14.4ms)


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 15:04:52 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PkfQCZw5c3hvibR9PvhH70C+bBAJrFXlieYS8zA1PLU=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007fa07d873000 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-72735-qvqa1x>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
Completed 500 Internal Server Error in 8ms

TypeError (no implicit conversion of ActionDispatch::Http::UploadedFile into String):
  app/models/data_import.rb:11:in `read'
  app/models/data_import.rb:11:in `initialize'
  app/controllers/data_imports_controller.rb:11:in `import'


  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.6ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (20.4ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (32.5ms)


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 15:05:20 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PkfQCZw5c3hvibR9PvhH70C+bBAJrFXlieYS8zA1PLU=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007fa07ca21948 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-72735-ufuv22>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
  [1m[35mDataImport Load (0.4ms)[0m  SELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = '70d6dd2be11a482c3789714aa44b1c84' LIMIT 1
  [1m[36mMerchant Load (0.5ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 20:05:20 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 20:05:20 UTC +00:00]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mItem Load (0.3ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 1 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:05:20 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", 1], ["price", #<BigDecimal:7fa07ccd4b18,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:05:20 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:05:20 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 20:05:20 UTC +00:00]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["count", 2], ["created_at", Thu, 05 Dec 2013 20:05:20 UTC +00:00], ["item_id", 1], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:05:20 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 20:05:20 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 20:05:20 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 2 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:05:20 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", 2], ["price", #<BigDecimal:7fa07ce1e370,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:05:20 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35mPurchaser Load (0.1ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:05:20 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 20:05:20 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["count", 5], ["created_at", Thu, 05 Dec 2013 20:05:20 UTC +00:00], ["item_id", 2], ["purchaser_id", 2], ["updated_at", Thu, 05 Dec 2013 20:05:20 UTC +00:00]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 20:05:20 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 20:05:20 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:05:20 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", 3], ["price", #<BigDecimal:7fa07ce67610,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:05:20 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:05:20 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 20:05:20 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["count", 1], ["created_at", Thu, 05 Dec 2013 20:05:20 UTC +00:00], ["item_id", 3], ["purchaser_id", 3], ["updated_at", Thu, 05 Dec 2013 20:05:20 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.1ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["count", 4], ["created_at", Thu, 05 Dec 2013 20:05:20 UTC +00:00], ["item_id", 3], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:05:20 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "data_imports" ("completed", "created_at", "file_hash", "file_path", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["completed", true], ["created_at", Thu, 05 Dec 2013 20:05:20 UTC +00:00], ["file_hash", "70d6dd2be11a482c3789714aa44b1c84"], ["file_path", "/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-72735-ufuv22"], ["updated_at", Thu, 05 Dec 2013 20:05:20 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
Completed 500 Internal Server Error in 79ms

NoMethodError (undefined method `calculate_revenue' for #<DataImport:0x007fa07ca7b948>):
  app/controllers/data_imports_controller.rb:13:in `import'


  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.5ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.8ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.7ms)


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 15:05:33 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PkfQCZw5c3hvibR9PvhH70C+bBAJrFXlieYS8zA1PLU=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007fa07ad5b318 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-72735-hsbuz5>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
  [1m[36mDataImport Load (0.1ms)[0m  [1mSELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = '70d6dd2be11a482c3789714aa44b1c84' LIMIT 1[0m
Completed 500 Internal Server Error in 9ms

RuntimeError (File has already been imported):
  app/models/data_import.rb:12:in `initialize'
  app/controllers/data_imports_controller.rb:11:in `import'


  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.4ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.8ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.4ms)


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 15:06:17 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PkfQCZw5c3hvibR9PvhH70C+bBAJrFXlieYS8zA1PLU=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007fa07cc58068 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-72735-ss7vyt>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
  [1m[35mDataImport Load (0.1ms)[0m  SELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = '70d6dd2be11a482c3789714aa44b1c84' LIMIT 1
Completed 500 Internal Server Error in 8ms

RuntimeError (File has already been imported):
  app/models/data_import.rb:12:in `initialize'
  app/controllers/data_imports_controller.rb:11:in `import'


  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.5ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.8ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.8ms)


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 15:06:57 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PkfQCZw5c3hvibR9PvhH70C+bBAJrFXlieYS8zA1PLU=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007fa07d84b488 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-72735-zjgnfi>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
  [1m[36mDataImport Load (0.1ms)[0m  [1mSELECT "data_imports".* FROM "data_imports"[0m
  [1m[35mDataImport Load (0.1ms)[0m  SELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = '70d6dd2be11a482c3789714aa44b1c84' LIMIT 1
Completed 500 Internal Server Error in 15ms

RuntimeError (File has already been imported):
  app/models/data_import.rb:16:in `initialize'
  app/controllers/data_imports_controller.rb:11:in `import'


  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.5ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.8ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.9ms)
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreatePurchasers (20131204203459)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "purchasers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_purchasers_on_name" ON "purchasers" ("name")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131204203459"]]
  [1m[35m (17.1ms)[0m  commit transaction
Migrating to CreatePurchases (20131204203720)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "purchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "count" integer, "item_id" integer, "purchaser_id" integer, "data_import_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_purchases_on_purchaser_id" ON "purchases" ("purchaser_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131204203720"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateItems (20131204203830)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "description" varchar(255), "price" decimal(8,2), "merchant_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_items_on_merchant_id" ON "items" ("merchant_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131204203830"]]
  [1m[35m (0.9ms)[0m  commit transaction
Migrating to CreateMerchants (20131204203849)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "merchants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "address" varchar(255), "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131204203849"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateDataImports (20131204212838)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "data_imports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "file_path" varchar(255), "file_hash" varchar(255), "completed" boolean, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131204212838"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m


Started GET "/data_imports/import" for 127.0.0.1 at 2013-12-05 15:07:37 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m

AbstractController::ActionNotFound (The action 'show' could not be found for DataImportsController):
  actionpack (4.0.1) lib/abstract_controller/base.rb:131:in `process'
  actionpack (4.0.1) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.1) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.1) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.1) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.1) lib/action_dispatch/routing/route_set.rb:80:in `call'
  actionpack (4.0.1) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.1) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.1) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.1) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.0.1) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.1) lib/action_dispatch/routing/route_set.rb:680:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.1) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.1) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.1) lib/active_support/callbacks.rb:373:in `_run__2376254514557279497__call__callbacks'
  activesupport (4.0.1) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.1) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.1) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.0.1) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.1) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.1) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.1) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.1) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.0.1) lib/rails/engine.rb:511:in `call'
  railties (4.0.1) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/2.0.0/webrick/httpserver.rb:138:in `service'
  /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/2.0.0/webrick/httpserver.rb:94:in `run'
  /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/2.0.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/unknown_action.erb within rescues/layout (1.1ms)


Started GET "/data_import" for 127.0.0.1 at 2013-12-05 15:07:40 -0500

ActionController::RoutingError (No route matches [GET] "/data_import"):
  actionpack (4.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.1) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.1) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.0.1) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.1) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.1) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.1) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.1) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.0.1) lib/rails/engine.rb:511:in `call'
  railties (4.0.1) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/2.0.0/webrick/httpserver.rb:138:in `service'
  /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/2.0.0/webrick/httpserver.rb:94:in `run'
  /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/2.0.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.8ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb (1.2ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/routes/_table.html.erb (3.6ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (22.8ms)


Started GET "/data_import" for 127.0.0.1 at 2013-12-05 15:07:46 -0500

ActionController::RoutingError (No route matches [GET] "/data_import"):
  actionpack (4.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.1) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.1) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.0.1) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.1) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.1) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.1) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.1) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.0.1) lib/rails/engine.rb:511:in `call'
  railties (4.0.1) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/2.0.0/webrick/httpserver.rb:138:in `service'
  /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/2.0.0/webrick/httpserver.rb:94:in `run'
  /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/2.0.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.7ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb (1.0ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.7ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (13.3ms)


Started GET "/data_import" for 127.0.0.1 at 2013-12-05 15:07:46 -0500

ActionController::RoutingError (No route matches [GET] "/data_import"):
  actionpack (4.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.1) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.1) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.0.1) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.1) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.1) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.1) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.1) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.1) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.0.1) lib/rails/engine.rb:511:in `call'
  railties (4.0.1) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/2.0.0/webrick/httpserver.rb:138:in `service'
  /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/2.0.0/webrick/httpserver.rb:94:in `run'
  /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/2.0.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.8ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb (1.1ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.7ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (14.3ms)


Started GET "/" for 127.0.0.1 at 2013-12-05 15:07:48 -0500
Processing by DataImportsController#index as HTML
  Rendered data_imports/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 65ms (Views: 34.5ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 15:07:48 -0500


Started GET "/assets/data_import.css?body=1" for 127.0.0.1 at 2013-12-05 15:07:48 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 15:07:48 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 15:07:48 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 15:07:48 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 15:07:48 -0500


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 15:07:48 -0500


Started GET "/" for 127.0.0.1 at 2013-12-05 15:07:48 -0500
Processing by DataImportsController#index as HTML
  Rendered data_imports/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 15:07:55 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PkfQCZw5c3hvibR9PvhH70C+bBAJrFXlieYS8zA1PLU=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007fd28a2d5460 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-73093-qhti9k>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
  [1m[35mDataImport Load (0.1ms)[0m  SELECT "data_imports".* FROM "data_imports"
  [1m[36mDataImport Load (0.1ms)[0m  [1mSELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = '70d6dd2be11a482c3789714aa44b1c84' LIMIT 1[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 20:07:55 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 20:07:55 UTC +00:00]]
  [1m[36m (9.7ms)[0m  [1mcommit transaction[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 1 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:07:55 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", 1], ["price", #<BigDecimal:7fd28db65910,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:07:55 UTC +00:00]]
  [1m[36m (8.4ms)[0m  [1mcommit transaction[0m
  [1m[35mPurchaser Load (0.1ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:07:55 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 20:07:55 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 20:07:55 UTC +00:00], ["item_id", 1], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:07:55 UTC +00:00]]
  [1m[35m (5.7ms)[0m  commit transaction
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 20:07:55 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 20:07:55 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mItem Load (0.2ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 2 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:07:55 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", 2], ["price", #<BigDecimal:7fd28b1c3e40,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:07:55 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:07:55 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 20:07:55 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["count", 5], ["created_at", Thu, 05 Dec 2013 20:07:55 UTC +00:00], ["item_id", 2], ["purchaser_id", 2], ["updated_at", Thu, 05 Dec 2013 20:07:55 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 20:07:55 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 20:07:55 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:07:55 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", 3], ["price", #<BigDecimal:7fd28c88b358,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:07:55 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mPurchaser Load (0.1ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:07:55 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 20:07:55 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 20:07:55 UTC +00:00], ["item_id", 3], ["purchaser_id", 3], ["updated_at", Thu, 05 Dec 2013 20:07:55 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 20:07:55 UTC +00:00], ["item_id", 3], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:07:55 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "data_imports" ("completed", "created_at", "file_hash", "file_path", "updated_at") VALUES (?, ?, ?, ?, ?)  [["completed", true], ["created_at", Thu, 05 Dec 2013 20:07:55 UTC +00:00], ["file_hash", "70d6dd2be11a482c3789714aa44b1c84"], ["file_path", "/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-73093-qhti9k"], ["updated_at", Thu, 05 Dec 2013 20:07:55 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from calculate_revenue at /Users/jpayne/projects/data-engineering/app/models/data_import.rb:34)
  [1m[35mPurchase Load (0.1ms)[0m  SELECT "purchases".* FROM "purchases" WHERE "purchases"."data_import_id" = ?  [["data_import_id", 1]]
Redirected to http://localhost:3000/?gross_revenue=0
Completed 302 Found in 142ms (ActiveRecord: 39.9ms)


Started GET "/?gross_revenue=0" for 127.0.0.1 at 2013-12-05 15:07:55 -0500
Processing by DataImportsController#index as HTML
  Parameters: {"gross_revenue"=>"0"}
  Rendered data_imports/index.html.erb within layouts/application (5.2ms)
Completed 200 OK in 10ms (Views: 9.7ms | ActiveRecord: 0.0ms)
  [1m[36mPurchase Load (0.9ms)[0m  [1mSELECT "purchases".* FROM "purchases"[0m
  [1m[36m (2.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (1.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreatePurchasers (20131204203459)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "purchasers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_purchasers_on_name" ON "purchasers" ("name")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131204203459"]]
  [1m[35m (1.2ms)[0m  commit transaction
Migrating to CreatePurchases (20131204203720)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "purchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "count" integer, "item_id" integer, "purchaser_id" integer, "data_import_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_purchases_on_purchaser_id" ON "purchases" ("purchaser_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131204203720"]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateItems (20131204203830)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "description" varchar(255), "price" decimal(8,2), "merchant_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_items_on_merchant_id" ON "items" ("merchant_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131204203830"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to CreateMerchants (20131204203849)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "merchants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "address" varchar(255), "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131204203849"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to CreateDataImports (20131204212838)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "data_imports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "file_path" varchar(255), "file_hash" varchar(255), "completed" boolean, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131204212838"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m


Started GET "/?gross_revenue=0" for 127.0.0.1 at 2013-12-05 15:09:36 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by DataImportsController#index as HTML
  Parameters: {"gross_revenue"=>"0"}
  Rendered data_imports/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 54ms (Views: 42.9ms | ActiveRecord: 0.0ms)


Started GET "/assets/data_import.css?body=1" for 127.0.0.1 at 2013-12-05 15:09:37 -0500


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 15:09:37 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 15:09:37 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 15:09:37 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 15:09:37 -0500


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 15:09:37 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 15:09:37 -0500


Started GET "/" for 127.0.0.1 at 2013-12-05 15:09:38 -0500
Processing by DataImportsController#index as HTML
  Rendered data_imports/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)


Started GET "/assets/data_import.css?body=1" for 127.0.0.1 at 2013-12-05 15:09:38 -0500


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 15:09:38 -0500


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 15:09:38 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 15:09:38 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 15:09:38 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 15:09:38 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 15:09:38 -0500


Started GET "/" for 127.0.0.1 at 2013-12-05 15:09:39 -0500
Processing by DataImportsController#index as HTML
  Rendered data_imports/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 15:09:46 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PkfQCZw5c3hvibR9PvhH70C+bBAJrFXlieYS8zA1PLU=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007fd1cd4e9930 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-73517-2dhbh3>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
  [1m[35mDataImport Load (0.5ms)[0m  SELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = '70d6dd2be11a482c3789714aa44b1c84' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.1ms)[0m  INSERT INTO "data_imports" ("created_at", "file_hash", "file_path", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:09:46 UTC +00:00], ["file_hash", "70d6dd2be11a482c3789714aa44b1c84"], ["file_path", "/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-73517-2dhbh3"], ["updated_at", Thu, 05 Dec 2013 20:09:46 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mMerchant Load (0.3ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 20:09:46 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 20:09:46 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 1 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:09:46 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", 1], ["price", #<BigDecimal:7fd1cd586528,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:09:46 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:09:46 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 20:09:46 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 20:09:46 UTC +00:00], ["data_import_id", 1], ["item_id", 1], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:09:46 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 20:09:46 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 20:09:46 UTC +00:00]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 2 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:09:46 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", 2], ["price", #<BigDecimal:7fd1cab6def8,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:09:46 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:09:46 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 20:09:46 UTC +00:00]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["count", 5], ["created_at", Thu, 05 Dec 2013 20:09:46 UTC +00:00], ["data_import_id", 1], ["item_id", 2], ["purchaser_id", 2], ["updated_at", Thu, 05 Dec 2013 20:09:46 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 20:09:46 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 20:09:46 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:09:46 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", 3], ["price", #<BigDecimal:7fd1cac79ea0,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:09:46 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mPurchaser Load (0.1ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:09:46 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 20:09:46 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 20:09:46 UTC +00:00], ["data_import_id", 1], ["item_id", 3], ["purchaser_id", 3], ["updated_at", Thu, 05 Dec 2013 20:09:46 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 20:09:46 UTC +00:00], ["data_import_id", 1], ["item_id", 3], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:09:46 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "data_imports" SET "completed" = ?, "updated_at" = ? WHERE "data_imports"."id" = 1  [["completed", true], ["updated_at", Thu, 05 Dec 2013 20:09:46 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from calculate_revenue at /Users/jpayne/projects/data-engineering/app/models/data_import.rb:30)
  [1m[35mPurchase Load (0.2ms)[0m  SELECT "purchases".* FROM "purchases" WHERE "purchases"."data_import_id" = ?  [["data_import_id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1  [["id", 3]]
Redirected to http://localhost:3000/?gross_revenue=95.0
Completed 302 Found in 126ms (ActiveRecord: 21.4ms)


Started GET "/?gross_revenue=95.0" for 127.0.0.1 at 2013-12-05 15:09:46 -0500
Processing by DataImportsController#index as HTML
  Parameters: {"gross_revenue"=>"95.0"}
  Rendered data_imports/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 15:09:52 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PkfQCZw5c3hvibR9PvhH70C+bBAJrFXlieYS8zA1PLU=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007fd1d010c378 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-73517-1is45kk>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
  [1m[36mDataImport Load (0.1ms)[0m  [1mSELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = '70d6dd2be11a482c3789714aa44b1c84' LIMIT 1[0m
Completed 500 Internal Server Error in 2ms

RuntimeError (File has already been imported):
  app/models/data_import.rb:11:in `initialize'
  app/controllers/data_imports_controller.rb:11:in `import'


  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.7ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.9ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
  Rendered /Users/jpayne/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/gems/actionpack-4.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.5ms)


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 15:10:49 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PkfQCZw5c3hvibR9PvhH70C+bBAJrFXlieYS8zA1PLU=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007fd1cae911e8 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-73517-t53wv7>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
  [1m[35mDataImport Load (0.1ms)[0m  SELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = '70d6dd2be11a482c3789714aa44b1c84' LIMIT 1
Redirected to http://localhost:3000/?error_msg=There+was+a+problem+importing+the+file+File+has+already+been+imported
Completed 302 Found in 31ms (ActiveRecord: 0.5ms)


Started GET "/?error_msg=There+was+a+problem+importing+the+file+File+has+already+been+imported" for 127.0.0.1 at 2013-12-05 15:10:50 -0500
Processing by DataImportsController#index as HTML
  Parameters: {"error_msg"=>"There was a problem importing the file File has already been imported"}
  Rendered data_imports/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 15:10:50 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 15:10:50 -0500


Started GET "/assets/data_import.css?body=1" for 127.0.0.1 at 2013-12-05 15:10:50 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 15:10:50 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 15:10:50 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 15:10:50 -0500


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 15:10:50 -0500


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 15:11:28 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PkfQCZw5c3hvibR9PvhH70C+bBAJrFXlieYS8zA1PLU=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007fd1cd57ebc0 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-73517-3nflvm>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
  [1m[36mDataImport Load (0.1ms)[0m  [1mSELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = 'c128d3251224164e28514be5d1560ee6' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "data_imports" ("created_at", "file_hash", "file_path", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:11:28 UTC +00:00], ["file_hash", "c128d3251224164e28514be5d1560ee6"], ["file_path", "/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-73517-3nflvm"], ["updated_at", Thu, 05 Dec 2013 20:11:28 UTC +00:00]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 1 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 20:11:28 UTC +00:00], ["data_import_id", 2], ["item_id", 1], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:11:28 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 2 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 5], ["created_at", Thu, 05 Dec 2013 20:11:28 UTC +00:00], ["data_import_id", 2], ["item_id", 2], ["purchaser_id", 2], ["updated_at", Thu, 05 Dec 2013 20:11:28 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 20:11:28 UTC +00:00], ["data_import_id", 2], ["item_id", 3], ["purchaser_id", 3], ["updated_at", Thu, 05 Dec 2013 20:11:28 UTC +00:00]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 20:11:28 UTC +00:00], ["data_import_id", 2], ["item_id", 3], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:11:28 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "data_imports" SET "completed" = ?, "updated_at" = ? WHERE "data_imports"."id" = 2  [["completed", true], ["updated_at", Thu, 05 Dec 2013 20:11:28 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from calculate_revenue at /Users/jpayne/projects/data-engineering/app/models/data_import.rb:30)
  [1m[35mPurchase Load (0.1ms)[0m  SELECT "purchases".* FROM "purchases" WHERE "purchases"."data_import_id" = ?  [["data_import_id", 2]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1  [["id", 3]]
Redirected to http://localhost:3000/?gross_revenue=115.0
Completed 302 Found in 53ms (ActiveRecord: 7.8ms)


Started GET "/?gross_revenue=115.0" for 127.0.0.1 at 2013-12-05 15:11:28 -0500
Processing by DataImportsController#index as HTML
  Parameters: {"gross_revenue"=>"115.0"}
  Rendered data_imports/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 32ms (Views: 31.3ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 15:11:28 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 15:11:28 -0500


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 15:11:28 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 15:11:28 -0500


Started GET "/assets/data_import.css?body=1" for 127.0.0.1 at 2013-12-05 15:11:28 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 15:11:28 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 15:11:28 -0500


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 15:11:49 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PkfQCZw5c3hvibR9PvhH70C+bBAJrFXlieYS8zA1PLU=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007fd1cacfb360 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-73517-1g0cacz>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
  [1m[36mDataImport Load (0.1ms)[0m  [1mSELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = '865f43dd8d0c558e73213a585e7156f1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "data_imports" ("created_at", "file_hash", "file_path", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:11:49 UTC +00:00], ["file_hash", "865f43dd8d0c558e73213a585e7156f1"], ["file_path", "/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-73517-1g0cacz"], ["updated_at", Thu, 05 Dec 2013 20:11:49 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 1 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 20:11:49 UTC +00:00], ["data_import_id", 3], ["item_id", 1], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:11:49 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 2 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 20:11:49 UTC +00:00], ["data_import_id", 3], ["item_id", 2], ["purchaser_id", 2], ["updated_at", Thu, 05 Dec 2013 20:11:49 UTC +00:00]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 20:11:49 UTC +00:00], ["data_import_id", 3], ["item_id", 3], ["purchaser_id", 3], ["updated_at", Thu, 05 Dec 2013 20:11:49 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mMerchant Load (0.2ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 20:11:49 UTC +00:00], ["data_import_id", 3], ["item_id", 3], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:11:49 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "data_imports" SET "completed" = ?, "updated_at" = ? WHERE "data_imports"."id" = 3  [["completed", true], ["updated_at", Thu, 05 Dec 2013 20:11:49 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from calculate_revenue at /Users/jpayne/projects/data-engineering/app/models/data_import.rb:30)
  [1m[35mPurchase Load (0.1ms)[0m  SELECT "purchases".* FROM "purchases" WHERE "purchases"."data_import_id" = ?  [["data_import_id", 3]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1  [["id", 3]]
Redirected to http://localhost:3000/?gross_revenue=85.0
Completed 302 Found in 22ms (ActiveRecord: 7.5ms)


Started GET "/?gross_revenue=85.0" for 127.0.0.1 at 2013-12-05 15:11:49 -0500
Processing by DataImportsController#index as HTML
  Parameters: {"gross_revenue"=>"85.0"}
  Rendered data_imports/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 8ms (Views: 8.1ms | ActiveRecord: 0.0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 15:11:49 -0500


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 15:11:49 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 15:11:49 -0500


Started GET "/assets/data_import.css?body=1" for 127.0.0.1 at 2013-12-05 15:11:49 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 15:11:49 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 15:11:49 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 15:11:49 -0500


Started GET "/" for 127.0.0.1 at 2013-12-05 15:19:34 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by DataImportsController#index as HTML
  Rendered data_imports/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 77ms (Views: 64.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2013-12-05 15:19:35 -0500
Processing by DataImportsController#index as HTML
  Rendered data_imports/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 23ms (Views: 22.7ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 15:19:35 -0500


Started GET "/assets/data_import.css?body=1" for 127.0.0.1 at 2013-12-05 15:19:35 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 15:19:35 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 15:19:35 -0500


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 15:19:35 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 15:19:35 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 15:19:35 -0500


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 15:19:44 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PkfQCZw5c3hvibR9PvhH70C+bBAJrFXlieYS8zA1PLU=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007f9b6d88ca60 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-74726-1gxkrgf>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
  [1m[35mDataImport Load (0.1ms)[0m  SELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = '8f0a102702044da921ad2446c4b5d137' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "data_imports" ("created_at", "file_hash", "file_path", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:19:44 UTC +00:00], ["file_hash", "8f0a102702044da921ad2446c4b5d137"], ["file_path", "/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-74726-1gxkrgf"], ["updated_at", Thu, 05 Dec 2013 20:19:44 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 1 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.1ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["count", 10], ["created_at", Thu, 05 Dec 2013 20:19:44 UTC +00:00], ["data_import_id", 4], ["item_id", 1], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:19:44 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 2 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.1ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["count", 2], ["created_at", Thu, 05 Dec 2013 20:19:44 UTC +00:00], ["data_import_id", 4], ["item_id", 2], ["purchaser_id", 2], ["updated_at", Thu, 05 Dec 2013 20:19:44 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.1ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["count", 1], ["created_at", Thu, 05 Dec 2013 20:19:44 UTC +00:00], ["data_import_id", 4], ["item_id", 3], ["purchaser_id", 3], ["updated_at", Thu, 05 Dec 2013 20:19:44 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.1ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["count", 4], ["created_at", Thu, 05 Dec 2013 20:19:44 UTC +00:00], ["data_import_id", 4], ["item_id", 3], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:19:44 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "data_imports" SET "completed" = ?, "updated_at" = ? WHERE "data_imports"."id" = 4[0m  [["completed", true], ["updated_at", Thu, 05 Dec 2013 20:19:44 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mPurchase Load (0.1ms)[0m  [1mSELECT "purchases".* FROM "purchases" WHERE "purchases"."data_import_id" = ?[0m  [["data_import_id", 4]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", 3]]
Redirected to http://localhost:3000/?gross_revenue=145.0
Completed 302 Found in 97ms (ActiveRecord: 9.9ms)


Started GET "/?gross_revenue=145.0" for 127.0.0.1 at 2013-12-05 15:19:44 -0500
Processing by DataImportsController#index as HTML
  Parameters: {"gross_revenue"=>"145.0"}
  Rendered data_imports/index.html.erb within layouts/application (4.7ms)
Completed 200 OK in 9ms (Views: 8.9ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 15:19:44 -0500


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 15:19:44 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 15:19:44 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 15:19:44 -0500


Started GET "/assets/data_import.css?body=1" for 127.0.0.1 at 2013-12-05 15:19:44 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 15:19:44 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 15:19:44 -0500


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 15:19:47 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PkfQCZw5c3hvibR9PvhH70C+bBAJrFXlieYS8zA1PLU=", "commit"=>"Import Data File"}
Redirected to http://localhost:3000/?error_msg=There+was+a+problem+importing+the+file%3A+undefined+method+%60path%27+for+nil%3ANilClass
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/?error_msg=There+was+a+problem+importing+the+file%3A+undefined+method+%60path%27+for+nil%3ANilClass" for 127.0.0.1 at 2013-12-05 15:19:47 -0500
Processing by DataImportsController#index as HTML
  Parameters: {"error_msg"=>"There was a problem importing the file: undefined method `path' for nil:NilClass"}
  Rendered data_imports/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 15:19:47 -0500


Started GET "/assets/data_import.css?body=1" for 127.0.0.1 at 2013-12-05 15:19:47 -0500


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 15:19:47 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 15:19:47 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 15:19:47 -0500


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 15:19:47 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 15:19:47 -0500


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 15:19:56 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PkfQCZw5c3hvibR9PvhH70C+bBAJrFXlieYS8zA1PLU=", "file"=>#<ActionDispatch::Http::UploadedFile:0x007f9b6af5def0 @tempfile=#<Tempfile:/var/folders/bj/nfyrdxm910sfpgbmz7drh3280000gn/T/RackMultipart20131205-74726-1fi6m01>, @original_filename="example_input.tab", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.tab\"\r\nContent-Type: application/octet-stream\r\n">, "commit"=>"Import Data File"}
  [1m[35mDataImport Load (0.2ms)[0m  SELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = '8f0a102702044da921ad2446c4b5d137' LIMIT 1
Redirected to http://localhost:3000/?error_msg=There+was+a+problem+importing+the+file%3A+File+has+already+been+imported
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)


Started GET "/?error_msg=There+was+a+problem+importing+the+file%3A+File+has+already+been+imported" for 127.0.0.1 at 2013-12-05 15:19:56 -0500
Processing by DataImportsController#index as HTML
  Parameters: {"error_msg"=>"There was a problem importing the file: File has already been imported"}
  Rendered data_imports/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 15:19:56 -0500


Started GET "/assets/data_import.css?body=1" for 127.0.0.1 at 2013-12-05 15:19:56 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 15:19:56 -0500


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 15:19:56 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 15:19:56 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 15:19:56 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 15:19:56 -0500


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 15:20:39 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PkfQCZw5c3hvibR9PvhH70C+bBAJrFXlieYS8zA1PLU=", "commit"=>"Import Data File"}
Redirected to http://localhost:3000/?error_msg=There+was+a+problem+importing+the+file%3A+no+implicit+conversion+of+nil+into+String
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)


Started GET "/?error_msg=There+was+a+problem+importing+the+file%3A+no+implicit+conversion+of+nil+into+String" for 127.0.0.1 at 2013-12-05 15:20:39 -0500
Processing by DataImportsController#index as HTML
  Parameters: {"error_msg"=>"There was a problem importing the file: no implicit conversion of nil into String"}
  Rendered data_imports/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 15:20:39 -0500


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 15:20:39 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 15:20:39 -0500


Started GET "/assets/data_import.css?body=1" for 127.0.0.1 at 2013-12-05 15:20:39 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 15:20:39 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 15:20:39 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 15:20:39 -0500


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 15:20:41 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PkfQCZw5c3hvibR9PvhH70C+bBAJrFXlieYS8zA1PLU=", "commit"=>"Import Data File"}
Redirected to http://localhost:3000/?error_msg=There+was+a+problem+importing+the+file%3A+no+implicit+conversion+of+nil+into+String
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/?error_msg=There+was+a+problem+importing+the+file%3A+no+implicit+conversion+of+nil+into+String" for 127.0.0.1 at 2013-12-05 15:20:41 -0500
Processing by DataImportsController#index as HTML
  Parameters: {"error_msg"=>"There was a problem importing the file: no implicit conversion of nil into String"}
  Rendered data_imports/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)


Started GET "/assets/data_import.css?body=1" for 127.0.0.1 at 2013-12-05 15:20:41 -0500


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 15:20:41 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 15:20:41 -0500


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 15:20:41 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 15:20:41 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 15:20:41 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 15:20:41 -0500


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 15:21:21 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PkfQCZw5c3hvibR9PvhH70C+bBAJrFXlieYS8zA1PLU=", "commit"=>"Import Data File"}
Redirected to http://localhost:3000/?error_msg=There+was+a+problem+importing+the+file%3A+no+implicit+conversion+of+nil+into+String
Completed 302 Found in 32ms (ActiveRecord: 0.4ms)


Started GET "/?error_msg=There+was+a+problem+importing+the+file%3A+no+implicit+conversion+of+nil+into+String" for 127.0.0.1 at 2013-12-05 15:21:21 -0500
Processing by DataImportsController#index as HTML
  Parameters: {"error_msg"=>"There was a problem importing the file: no implicit conversion of nil into String"}
  Rendered data_imports/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/data_import.css?body=1" for 127.0.0.1 at 2013-12-05 15:21:21 -0500


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 15:21:21 -0500


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 15:21:21 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 15:21:21 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 15:21:21 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 15:21:21 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 15:21:21 -0500


Started GET "/?error_msg=There+was+a+problem+importing+the+file%3A+no+implicit+conversion+of+nil+into+String" for 127.0.0.1 at 2013-12-05 15:22:13 -0500
Processing by DataImportsController#index as HTML
  Parameters: {"error_msg"=>"There was a problem importing the file: no implicit conversion of nil into String"}
  Rendered data_imports/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 15:22:13 -0500


Started GET "/assets/data_import.css?body=1" for 127.0.0.1 at 2013-12-05 15:22:13 -0500


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 15:22:13 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 15:22:13 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 15:22:13 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 15:22:13 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 15:22:13 -0500


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 15:22:15 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PkfQCZw5c3hvibR9PvhH70C+bBAJrFXlieYS8zA1PLU=", "commit"=>"Import Data File"}
Redirected to http://localhost:3000/?error_msg=There+was+a+problem+importing+the+file%3A+undefined+method+%60path%27+for+nil%3ANilClass
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)


Started GET "/?error_msg=There+was+a+problem+importing+the+file%3A+undefined+method+%60path%27+for+nil%3ANilClass" for 127.0.0.1 at 2013-12-05 15:22:15 -0500
Processing by DataImportsController#index as HTML
  Parameters: {"error_msg"=>"There was a problem importing the file: undefined method `path' for nil:NilClass"}
  Rendered data_imports/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)


Started GET "/assets/data_import.css?body=1" for 127.0.0.1 at 2013-12-05 15:22:15 -0500


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 15:22:15 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 15:22:15 -0500


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 15:22:15 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 15:22:15 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 15:22:15 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 15:22:15 -0500


Started POST "/data_imports/import" for 127.0.0.1 at 2013-12-05 15:22:28 -0500
Processing by DataImportsController#import as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PkfQCZw5c3hvibR9PvhH70C+bBAJrFXlieYS8zA1PLU=", "commit"=>"Import Data File"}
Redirected to http://localhost:3000/?error_msg=There+was+a+problem+importing+the+file%3A+No+file+selected
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)


Started GET "/?error_msg=There+was+a+problem+importing+the+file%3A+No+file+selected" for 127.0.0.1 at 2013-12-05 15:22:28 -0500
Processing by DataImportsController#index as HTML
  Parameters: {"error_msg"=>"There was a problem importing the file: No file selected"}
  Rendered data_imports/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)


Started GET "/assets/data_import.css?body=1" for 127.0.0.1 at 2013-12-05 15:22:28 -0500


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2013-12-05 15:22:28 -0500


Started GET "/assets/data_import.js?body=1" for 127.0.0.1 at 2013-12-05 15:22:28 -0500


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2013-12-05 15:22:28 -0500


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2013-12-05 15:22:28 -0500


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2013-12-05 15:22:28 -0500


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2013-12-05 15:22:28 -0500
