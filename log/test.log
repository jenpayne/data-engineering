  [1m[36m (26.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (1.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to EnableUuidOsspExtension (20131204203351)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (28.0ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "uuid-ossp"[0m
  [1m[35mSQL (20.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131204203351"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
Migrating to CreatePurchasers (20131204203459)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (19.8ms)[0m  [1mCREATE TABLE "purchasers" ("id" uuid PRIMARY KEY DEFAULT uuid_generate_v4(), "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.4ms)[0m  CREATE INDEX "index_purchasers_on_name" ON "purchasers" ("name")
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20131204203459"]]
  [1m[35m (0.6ms)[0m  COMMIT
Migrating to CreatePurchases (20131204203720)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "purchases" ("id" uuid PRIMARY KEY DEFAULT uuid_generate_v4(), "count" integer, "item_id" uuid, "purchaser_id" uuid, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.6ms)[0m  [1mCREATE INDEX "index_purchases_on_purchaser_id" ON "purchases" ("purchaser_id")[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131204203720"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
Migrating to CreateItems (20131204203830)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "items" ("id" uuid PRIMARY KEY DEFAULT uuid_generate_v4(), "description" character varying(255), "price" decimal(8,2), "merchant_id" uuid, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (22.4ms)[0m  CREATE INDEX "index_items_on_merchant_id" ON "items" ("merchant_id")
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20131204203830"]]
  [1m[35m (0.6ms)[0m  COMMIT
Migrating to CreateMerchants (20131204203849)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (20.4ms)[0m  CREATE TABLE "merchants" ("id" uuid PRIMARY KEY DEFAULT uuid_generate_v4(), "address" character varying(255), "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20131204203849"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (25.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (16.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mMerchant Load (25.7ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (39.3ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mItem Load (13.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'd34035ce-fd1c-4e29-8ecb-a6feabeb7928' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (19.8ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "d34035ce-fd1c-4e29-8ecb-a6feabeb7928"], ["price", #<BigDecimal:7fc4b56be438,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00]]
  [1m[36m (5.7ms)[0m  [1mCOMMIT[0m
  [1m[35mPurchaser Load (7.2ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.1ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (9.3ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00], ["item_id", "ce25ae61-4bcf-4fd0-9139-720f9b1d33dc"], ["purchaser_id", "b9d384af-8eee-435e-bb5d-18c2a7b8c3bc"], ["updated_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36mMerchant Load (0.7ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36mItem Load (0.9ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '630c243b-8c62-463a-9ea2-c4f787ea44f7' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "630c243b-8c62-463a-9ea2-c4f787ea44f7"], ["price", #<BigDecimal:7fc4b68fbfb0,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36mPurchaser Load (0.6ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00], ["item_id", "86741cda-472b-4491-aec3-1c173e3389e4"], ["purchaser_id", "7d8fcf58-3c13-4312-904a-3cfa4ab182f6"], ["updated_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '65c67fa6-ea37-45d0-8585-05708cc57045' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "65c67fa6-ea37-45d0-8585-05708cc57045"], ["price", #<BigDecimal:7fc4b693a350,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00], ["item_id", "668a6d8c-d3c2-4d83-b9b4-79836446cd41"], ["purchaser_id", "d63cf168-b474-48e0-b511-97990f3c8848"], ["updated_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "123Fake St"], ["created_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'f0b71096-d8d5-450a-b82b-e0c91d9b585c' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "f0b71096-d8d5-450a-b82b-e0c91d9b585c"], ["price", #<BigDecimal:7fc4b6983e88,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36mPurchaser Load (0.8ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00], ["item_id", "df990fa7-82fa-4135-9932-075b4acb2d43"], ["purchaser_id", "b9d384af-8eee-435e-bb5d-18c2a7b8c3bc"], ["updated_at", Thu, 05 Dec 2013 17:00:09 UTC +00:00]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "merchants"[0m
  [1m[36mActiveRecord::SchemaMigration Load (8.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mMerchant Load (13.9ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (8.9ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'd34035ce-fd1c-4e29-8ecb-a6feabeb7928' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.8ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (103.4ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:01:15 UTC +00:00], ["item_id", "ce25ae61-4bcf-4fd0-9139-720f9b1d33dc"], ["purchaser_id", "b9d384af-8eee-435e-bb5d-18c2a7b8c3bc"], ["updated_at", Thu, 05 Dec 2013 17:01:15 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35mMerchant Load (0.7ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.7ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '630c243b-8c62-463a-9ea2-c4f787ea44f7' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.6ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:01:15 UTC +00:00], ["item_id", "86741cda-472b-4491-aec3-1c173e3389e4"], ["purchaser_id", "7d8fcf58-3c13-4312-904a-3cfa4ab182f6"], ["updated_at", Thu, 05 Dec 2013 17:01:15 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35mMerchant Load (0.5ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '65c67fa6-ea37-45d0-8585-05708cc57045' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.3ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:01:15 UTC +00:00], ["item_id", "668a6d8c-d3c2-4d83-b9b4-79836446cd41"], ["purchaser_id", "d63cf168-b474-48e0-b511-97990f3c8848"], ["updated_at", Thu, 05 Dec 2013 17:01:15 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'f0b71096-d8d5-450a-b82b-e0c91d9b585c' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:01:15 UTC +00:00], ["item_id", "df990fa7-82fa-4135-9932-075b4acb2d43"], ["purchaser_id", "b9d384af-8eee-435e-bb5d-18c2a7b8c3bc"], ["updated_at", Thu, 05 Dec 2013 17:01:15 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mMerchant Load (0.3ms)[0m  SELECT "merchants".* FROM "merchants"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "merchants"[0m
  [1m[36mActiveRecord::SchemaMigration Load (8.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mMerchant Load (3.6ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (15.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'd34035ce-fd1c-4e29-8ecb-a6feabeb7928' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (13.1ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (35.5ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:02:01 UTC +00:00], ["item_id", "ce25ae61-4bcf-4fd0-9139-720f9b1d33dc"], ["purchaser_id", "b9d384af-8eee-435e-bb5d-18c2a7b8c3bc"], ["updated_at", Thu, 05 Dec 2013 17:02:01 UTC +00:00]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35mMerchant Load (0.7ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.6ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '630c243b-8c62-463a-9ea2-c4f787ea44f7' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.8ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:02:01 UTC +00:00], ["item_id", "86741cda-472b-4491-aec3-1c173e3389e4"], ["purchaser_id", "7d8fcf58-3c13-4312-904a-3cfa4ab182f6"], ["updated_at", Thu, 05 Dec 2013 17:02:01 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '65c67fa6-ea37-45d0-8585-05708cc57045' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.3ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:02:01 UTC +00:00], ["item_id", "668a6d8c-d3c2-4d83-b9b4-79836446cd41"], ["purchaser_id", "d63cf168-b474-48e0-b511-97990f3c8848"], ["updated_at", Thu, 05 Dec 2013 17:02:01 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mMerchant Load (0.5ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '65c67fa6-ea37-45d0-8585-05708cc57045' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.3ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:02:01 UTC +00:00], ["item_id", "668a6d8c-d3c2-4d83-b9b4-79836446cd41"], ["purchaser_id", "b9d384af-8eee-435e-bb5d-18c2a7b8c3bc"], ["updated_at", Thu, 05 Dec 2013 17:02:01 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mMerchant Load (0.3ms)[0m  SELECT "merchants".* FROM "merchants"
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "merchants"[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mMerchant Load (4.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (14.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'd34035ce-fd1c-4e29-8ecb-a6feabeb7928' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (17.6ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (102.4ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:02:54 UTC +00:00], ["item_id", "ce25ae61-4bcf-4fd0-9139-720f9b1d33dc"], ["purchaser_id", "b9d384af-8eee-435e-bb5d-18c2a7b8c3bc"], ["updated_at", Thu, 05 Dec 2013 17:02:54 UTC +00:00]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35mMerchant Load (0.6ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.8ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '630c243b-8c62-463a-9ea2-c4f787ea44f7' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.6ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:02:54 UTC +00:00], ["item_id", "86741cda-472b-4491-aec3-1c173e3389e4"], ["purchaser_id", "7d8fcf58-3c13-4312-904a-3cfa4ab182f6"], ["updated_at", Thu, 05 Dec 2013 17:02:54 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mMerchant Load (0.5ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '65c67fa6-ea37-45d0-8585-05708cc57045' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.3ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:02:54 UTC +00:00], ["item_id", "668a6d8c-d3c2-4d83-b9b4-79836446cd41"], ["purchaser_id", "d63cf168-b474-48e0-b511-97990f3c8848"], ["updated_at", Thu, 05 Dec 2013 17:02:54 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mMerchant Load (0.5ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '65c67fa6-ea37-45d0-8585-05708cc57045' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.3ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:02:54 UTC +00:00], ["item_id", "668a6d8c-d3c2-4d83-b9b4-79836446cd41"], ["purchaser_id", "b9d384af-8eee-435e-bb5d-18c2a7b8c3bc"], ["updated_at", Thu, 05 Dec 2013 17:02:54 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mMerchant Load (0.3ms)[0m  SELECT "merchants".* FROM "merchants"
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "merchants"[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (1.9ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.7ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'd34035ce-fd1c-4e29-8ecb-a6feabeb7928' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.6ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (74.7ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:04:37 UTC +00:00], ["item_id", "ce25ae61-4bcf-4fd0-9139-720f9b1d33dc"], ["purchaser_id", "b9d384af-8eee-435e-bb5d-18c2a7b8c3bc"], ["updated_at", Thu, 05 Dec 2013 17:04:37 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.6ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '630c243b-8c62-463a-9ea2-c4f787ea44f7' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.3ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:04:37 UTC +00:00], ["item_id", "86741cda-472b-4491-aec3-1c173e3389e4"], ["purchaser_id", "7d8fcf58-3c13-4312-904a-3cfa4ab182f6"], ["updated_at", Thu, 05 Dec 2013 17:04:37 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.3ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '65c67fa6-ea37-45d0-8585-05708cc57045' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.3ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:04:37 UTC +00:00], ["item_id", "668a6d8c-d3c2-4d83-b9b4-79836446cd41"], ["purchaser_id", "d63cf168-b474-48e0-b511-97990f3c8848"], ["updated_at", Thu, 05 Dec 2013 17:04:37 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.6ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '65c67fa6-ea37-45d0-8585-05708cc57045' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.3ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:04:37 UTC +00:00], ["item_id", "668a6d8c-d3c2-4d83-b9b4-79836446cd41"], ["purchaser_id", "b9d384af-8eee-435e-bb5d-18c2a7b8c3bc"], ["updated_at", Thu, 05 Dec 2013 17:04:37 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants"
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "merchants"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (4.5ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (5.9ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'd34035ce-fd1c-4e29-8ecb-a6feabeb7928' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (7.1ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (33.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:06:24 UTC +00:00], ["item_id", "ce25ae61-4bcf-4fd0-9139-720f9b1d33dc"], ["purchaser_id", "b9d384af-8eee-435e-bb5d-18c2a7b8c3bc"], ["updated_at", Thu, 05 Dec 2013 17:06:24 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.6ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.9ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '630c243b-8c62-463a-9ea2-c4f787ea44f7' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.6ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:06:24 UTC +00:00], ["item_id", "86741cda-472b-4491-aec3-1c173e3389e4"], ["purchaser_id", "7d8fcf58-3c13-4312-904a-3cfa4ab182f6"], ["updated_at", Thu, 05 Dec 2013 17:06:24 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.5ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '65c67fa6-ea37-45d0-8585-05708cc57045' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.5ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:06:24 UTC +00:00], ["item_id", "668a6d8c-d3c2-4d83-b9b4-79836446cd41"], ["purchaser_id", "d63cf168-b474-48e0-b511-97990f3c8848"], ["updated_at", Thu, 05 Dec 2013 17:06:24 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '65c67fa6-ea37-45d0-8585-05708cc57045' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.3ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:06:24 UTC +00:00], ["item_id", "668a6d8c-d3c2-4d83-b9b4-79836446cd41"], ["purchaser_id", "b9d384af-8eee-435e-bb5d-18c2a7b8c3bc"], ["updated_at", Thu, 05 Dec 2013 17:06:24 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "merchants"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (1.3ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.7ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'd34035ce-fd1c-4e29-8ecb-a6feabeb7928' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.5ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (7.5ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:06:32 UTC +00:00], ["item_id", "ce25ae61-4bcf-4fd0-9139-720f9b1d33dc"], ["purchaser_id", "b9d384af-8eee-435e-bb5d-18c2a7b8c3bc"], ["updated_at", Thu, 05 Dec 2013 17:06:32 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.6ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.7ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '630c243b-8c62-463a-9ea2-c4f787ea44f7' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.6ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:06:32 UTC +00:00], ["item_id", "86741cda-472b-4491-aec3-1c173e3389e4"], ["purchaser_id", "7d8fcf58-3c13-4312-904a-3cfa4ab182f6"], ["updated_at", Thu, 05 Dec 2013 17:06:32 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.5ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '65c67fa6-ea37-45d0-8585-05708cc57045' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.5ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:06:32 UTC +00:00], ["item_id", "668a6d8c-d3c2-4d83-b9b4-79836446cd41"], ["purchaser_id", "d63cf168-b474-48e0-b511-97990f3c8848"], ["updated_at", Thu, 05 Dec 2013 17:06:32 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.5ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '65c67fa6-ea37-45d0-8585-05708cc57045' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.3ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:06:32 UTC +00:00], ["item_id", "668a6d8c-d3c2-4d83-b9b4-79836446cd41"], ["purchaser_id", "b9d384af-8eee-435e-bb5d-18c2a7b8c3bc"], ["updated_at", Thu, 05 Dec 2013 17:06:32 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "merchants"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (31.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (3.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'd34035ce-fd1c-4e29-8ecb-a6feabeb7928' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (13.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (52.5ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:10:20 UTC +00:00], ["item_id", "ce25ae61-4bcf-4fd0-9139-720f9b1d33dc"], ["purchaser_id", "b9d384af-8eee-435e-bb5d-18c2a7b8c3bc"], ["updated_at", Thu, 05 Dec 2013 17:10:20 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.7ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.6ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '630c243b-8c62-463a-9ea2-c4f787ea44f7' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.5ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:10:20 UTC +00:00], ["item_id", "86741cda-472b-4491-aec3-1c173e3389e4"], ["purchaser_id", "7d8fcf58-3c13-4312-904a-3cfa4ab182f6"], ["updated_at", Thu, 05 Dec 2013 17:10:20 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '65c67fa6-ea37-45d0-8585-05708cc57045' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.3ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:10:20 UTC +00:00], ["item_id", "668a6d8c-d3c2-4d83-b9b4-79836446cd41"], ["purchaser_id", "d63cf168-b474-48e0-b511-97990f3c8848"], ["updated_at", Thu, 05 Dec 2013 17:10:20 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '65c67fa6-ea37-45d0-8585-05708cc57045' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.3ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:10:20 UTC +00:00], ["item_id", "668a6d8c-d3c2-4d83-b9b4-79836446cd41"], ["purchaser_id", "b9d384af-8eee-435e-bb5d-18c2a7b8c3bc"], ["updated_at", Thu, 05 Dec 2013 17:10:20 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "merchants"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (1.7ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (1.2ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'd34035ce-fd1c-4e29-8ecb-a6feabeb7928' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.7ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (82.9ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:11:16 UTC +00:00], ["item_id", "ce25ae61-4bcf-4fd0-9139-720f9b1d33dc"], ["purchaser_id", "b9d384af-8eee-435e-bb5d-18c2a7b8c3bc"], ["updated_at", Thu, 05 Dec 2013 17:11:16 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '630c243b-8c62-463a-9ea2-c4f787ea44f7' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.6ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:11:17 UTC +00:00], ["item_id", "86741cda-472b-4491-aec3-1c173e3389e4"], ["purchaser_id", "7d8fcf58-3c13-4312-904a-3cfa4ab182f6"], ["updated_at", Thu, 05 Dec 2013 17:11:17 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '65c67fa6-ea37-45d0-8585-05708cc57045' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.3ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:11:17 UTC +00:00], ["item_id", "668a6d8c-d3c2-4d83-b9b4-79836446cd41"], ["purchaser_id", "d63cf168-b474-48e0-b511-97990f3c8848"], ["updated_at", Thu, 05 Dec 2013 17:11:17 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.5ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '65c67fa6-ea37-45d0-8585-05708cc57045' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.3ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:11:17 UTC +00:00], ["item_id", "668a6d8c-d3c2-4d83-b9b4-79836446cd41"], ["purchaser_id", "b9d384af-8eee-435e-bb5d-18c2a7b8c3bc"], ["updated_at", Thu, 05 Dec 2013 17:11:17 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "merchants"
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (3.7ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (1.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'd34035ce-fd1c-4e29-8ecb-a6feabeb7928' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.5ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (8.3ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:11:58 UTC +00:00], ["item_id", "ce25ae61-4bcf-4fd0-9139-720f9b1d33dc"], ["purchaser_id", "b9d384af-8eee-435e-bb5d-18c2a7b8c3bc"], ["updated_at", Thu, 05 Dec 2013 17:11:58 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '630c243b-8c62-463a-9ea2-c4f787ea44f7' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.3ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:11:58 UTC +00:00], ["item_id", "86741cda-472b-4491-aec3-1c173e3389e4"], ["purchaser_id", "7d8fcf58-3c13-4312-904a-3cfa4ab182f6"], ["updated_at", Thu, 05 Dec 2013 17:11:58 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.5ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '65c67fa6-ea37-45d0-8585-05708cc57045' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.3ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:11:58 UTC +00:00], ["item_id", "668a6d8c-d3c2-4d83-b9b4-79836446cd41"], ["purchaser_id", "d63cf168-b474-48e0-b511-97990f3c8848"], ["updated_at", Thu, 05 Dec 2013 17:11:58 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.6ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '65c67fa6-ea37-45d0-8585-05708cc57045' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:11:58 UTC +00:00], ["item_id", "668a6d8c-d3c2-4d83-b9b4-79836446cd41"], ["purchaser_id", "b9d384af-8eee-435e-bb5d-18c2a7b8c3bc"], ["updated_at", Thu, 05 Dec 2013 17:11:58 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "merchants"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (2.3ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.9ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'd34035ce-fd1c-4e29-8ecb-a6feabeb7928' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.6ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (81.4ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:12:43 UTC +00:00], ["item_id", "ce25ae61-4bcf-4fd0-9139-720f9b1d33dc"], ["purchaser_id", "b9d384af-8eee-435e-bb5d-18c2a7b8c3bc"], ["updated_at", Thu, 05 Dec 2013 17:12:43 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.6ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.6ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '630c243b-8c62-463a-9ea2-c4f787ea44f7' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.6ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:12:43 UTC +00:00], ["item_id", "86741cda-472b-4491-aec3-1c173e3389e4"], ["purchaser_id", "7d8fcf58-3c13-4312-904a-3cfa4ab182f6"], ["updated_at", Thu, 05 Dec 2013 17:12:43 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.7ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.6ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '65c67fa6-ea37-45d0-8585-05708cc57045' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:12:43 UTC +00:00], ["item_id", "668a6d8c-d3c2-4d83-b9b4-79836446cd41"], ["purchaser_id", "d63cf168-b474-48e0-b511-97990f3c8848"], ["updated_at", Thu, 05 Dec 2013 17:12:43 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '65c67fa6-ea37-45d0-8585-05708cc57045' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:12:43 UTC +00:00], ["item_id", "668a6d8c-d3c2-4d83-b9b4-79836446cd41"], ["purchaser_id", "b9d384af-8eee-435e-bb5d-18c2a7b8c3bc"], ["updated_at", Thu, 05 Dec 2013 17:12:43 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.3ms)[0m  SELECT "merchants".* FROM "merchants"
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "merchants"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (1.8ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.7ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'd34035ce-fd1c-4e29-8ecb-a6feabeb7928' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.5ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (9.2ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:13:02 UTC +00:00], ["item_id", "ce25ae61-4bcf-4fd0-9139-720f9b1d33dc"], ["purchaser_id", "b9d384af-8eee-435e-bb5d-18c2a7b8c3bc"], ["updated_at", Thu, 05 Dec 2013 17:13:02 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.8ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.7ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '630c243b-8c62-463a-9ea2-c4f787ea44f7' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.9ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:13:02 UTC +00:00], ["item_id", "86741cda-472b-4491-aec3-1c173e3389e4"], ["purchaser_id", "7d8fcf58-3c13-4312-904a-3cfa4ab182f6"], ["updated_at", Thu, 05 Dec 2013 17:13:02 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.6ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '65c67fa6-ea37-45d0-8585-05708cc57045' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:13:02 UTC +00:00], ["item_id", "668a6d8c-d3c2-4d83-b9b4-79836446cd41"], ["purchaser_id", "d63cf168-b474-48e0-b511-97990f3c8848"], ["updated_at", Thu, 05 Dec 2013 17:13:02 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Something St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (4.0ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "123 Something St"], ["created_at", Thu, 05 Dec 2013 17:13:02 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:13:02 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '4ba93813-5fc1-405d-8e65-55ef077b8aa1' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:13:02 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "4ba93813-5fc1-405d-8e65-55ef077b8aa1"], ["price", #<BigDecimal:7ff1e5940320,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:13:02 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:13:02 UTC +00:00], ["item_id", "9b443280-3b3b-414e-821d-cab0f002773e"], ["purchaser_id", "b9d384af-8eee-435e-bb5d-18c2a7b8c3bc"], ["updated_at", Thu, 05 Dec 2013 17:13:02 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.3ms)[0m  SELECT "merchants".* FROM "merchants"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "merchants"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (24.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (2.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to EnableUuidOsspExtension (20131204203351)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (29.9ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "uuid-ossp"[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131204203351"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to CreatePurchasers (20131204203459)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (20.7ms)[0m  [1mCREATE TABLE "purchasers" ("id" uuid PRIMARY KEY DEFAULT uuid_generate_v4(), "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.2ms)[0m  CREATE INDEX "index_purchasers_on_name" ON "purchasers" ("name")
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20131204203459"]]
  [1m[35m (0.7ms)[0m  COMMIT
Migrating to CreatePurchases (20131204203720)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (7.7ms)[0m  CREATE TABLE "purchases" ("id" uuid PRIMARY KEY DEFAULT uuid_generate_v4(), "count" integer, "item_id" uuid, "purchaser_id" uuid, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.9ms)[0m  [1mCREATE INDEX "index_purchases_on_purchaser_id" ON "purchases" ("purchaser_id")[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131204203720"]]
  [1m[36m (4.8ms)[0m  [1mCOMMIT[0m
Migrating to CreateItems (20131204203830)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (7.8ms)[0m  [1mCREATE TABLE "items" ("id" uuid PRIMARY KEY DEFAULT uuid_generate_v4(), "description" character varying(255), "price" decimal(8,2), "merchant_id" uuid, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.0ms)[0m  CREATE INDEX "index_items_on_merchant_id" ON "items" ("merchant_id")
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20131204203830"]]
  [1m[35m (4.3ms)[0m  COMMIT
Migrating to CreateMerchants (20131204203849)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (14.3ms)[0m  CREATE TABLE "merchants" ("id" uuid PRIMARY KEY DEFAULT uuid_generate_v4(), "address" character varying(255), "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20131204203849"]]
  [1m[35m (5.6ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (2.2ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (9.9ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.7ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'e8e7da8c-e682-48f6-b345-7db47ff80f8c' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "e8e7da8c-e682-48f6-b345-7db47ff80f8c"], ["price", #<BigDecimal:7fad1351ed30,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.5ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00], ["item_id", "440ad0c5-30ca-4ff8-93bb-90e89489bab2"], ["purchaser_id", "55474fd1-a2f7-4405-ba17-d6e0f52f1ab4"], ["updated_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.6ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '7d99e6f1-030c-4687-af68-83b263935150' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "7d99e6f1-030c-4687-af68-83b263935150"], ["price", #<BigDecimal:7fad15e53188,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00], ["item_id", "e5f5821e-44eb-473f-a230-e824e031ef75"], ["purchaser_id", "727e7264-3c2c-45a1-b4d2-00d2b758d15d"], ["updated_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.3ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.3ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '68cdb3ad-cfa1-4a7d-88c7-d95acfe2dbc1' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "68cdb3ad-cfa1-4a7d-88c7-d95acfe2dbc1"], ["price", #<BigDecimal:7fad15ea9178,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.5ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00], ["item_id", "2065e22b-2e4c-4c59-96b0-fa825fde8473"], ["purchaser_id", "bc8609fa-21f0-4327-a629-97015439a686"], ["updated_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Something St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "123 Something St"], ["created_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'a7854bed-7146-49f5-b940-0176494fbc22' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "a7854bed-7146-49f5-b940-0176494fbc22"], ["price", #<BigDecimal:7fad15ef0910,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.6ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00], ["item_id", "ba068647-4319-4d7d-a6d4-e09996d9bd4a"], ["purchaser_id", "55474fd1-a2f7-4405-ba17-d6e0f52f1ab4"], ["updated_at", Thu, 05 Dec 2013 17:13:44 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.5ms)[0m  [1mSELECT "merchants".* FROM "merchants"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "merchants"
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (1.3ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (6.8ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:13:57 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:13:57 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.6ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '2875b296-3d0b-4d99-b0bf-dcc52ab45503' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:13:57 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "2875b296-3d0b-4d99-b0bf-dcc52ab45503"], ["price", #<BigDecimal:7fcd7899de80,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:13:57 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.6ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:13:57 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:13:57 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:13:57 UTC +00:00], ["item_id", "4d5adab5-638b-4f3c-a009-4361b656bf5d"], ["purchaser_id", "1e02b26f-fa65-41cb-9a49-fe4121fa49f3"], ["updated_at", Thu, 05 Dec 2013 17:13:57 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:13:57 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:13:57 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '3ee1df2b-a4d0-45f0-83c9-86255c21d5a7' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:13:57 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "3ee1df2b-a4d0-45f0-83c9-86255c21d5a7"], ["price", #<BigDecimal:7fcd74130710,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:13:57 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:13:57 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:13:57 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:13:57 UTC +00:00], ["item_id", "13382249-dd52-49a8-ac96-90f461f2df8f"], ["purchaser_id", "2c72bb07-a05c-4b28-9669-eefc9c3e1935"], ["updated_at", Thu, 05 Dec 2013 17:13:57 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:13:57 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:13:57 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'a67a6613-a8f0-493c-b20e-dedf0938985e' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:13:57 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "a67a6613-a8f0-493c-b20e-dedf0938985e"], ["price", #<BigDecimal:7fcd76ecb9e0,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:13:57 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:13:57 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:13:57 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:13:57 UTC +00:00], ["item_id", "cc0e3fc3-c190-4592-a890-c83096eed8e0"], ["purchaser_id", "3070d4dc-3262-452e-9792-0a80f9826956"], ["updated_at", Thu, 05 Dec 2013 17:13:57 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'a67a6613-a8f0-493c-b20e-dedf0938985e' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:13:57 UTC +00:00], ["item_id", "cc0e3fc3-c190-4592-a890-c83096eed8e0"], ["purchaser_id", "1e02b26f-fa65-41cb-9a49-fe4121fa49f3"], ["updated_at", Thu, 05 Dec 2013 17:13:57 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT "merchants".* FROM "merchants"[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "merchants"
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "purchasers"[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "items"
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "purchases"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (2.0ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (6.7ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:15:56 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:15:56 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (1.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '43826633-8704-42d1-9bcc-934a109e6f76' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:15:56 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "43826633-8704-42d1-9bcc-934a109e6f76"], ["price", #<BigDecimal:7f881c34db58,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:15:56 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.6ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:15:56 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:15:56 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:15:56 UTC +00:00], ["item_id", "dd8e2a58-4540-4e3a-9c08-480a67e6b606"], ["purchaser_id", "189c34e7-421b-4305-8c9b-9111d4b78bb5"], ["updated_at", Thu, 05 Dec 2013 17:15:56 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.7ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:15:56 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:15:56 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.6ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'a95cc007-4cd8-4e40-8648-ff3fdb129579' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:15:56 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "a95cc007-4cd8-4e40-8648-ff3fdb129579"], ["price", #<BigDecimal:7f881c5b1408,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:15:56 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:15:56 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:15:56 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:15:56 UTC +00:00], ["item_id", "9dbb5170-0b44-4c21-8e0a-673848735e4d"], ["purchaser_id", "a960c719-a47a-4116-b179-2d0a78c86062"], ["updated_at", Thu, 05 Dec 2013 17:15:56 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:15:56 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:15:56 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'fe8248c7-b129-42b4-832c-ee4ce655a752' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:15:56 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "fe8248c7-b129-42b4-832c-ee4ce655a752"], ["price", #<BigDecimal:7f881c609c98,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:15:56 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.3ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:15:56 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:15:56 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:15:56 UTC +00:00], ["item_id", "0753b1f9-e2e3-418a-a0de-3a110c5a7879"], ["purchaser_id", "c5a23f9f-9bcd-4bcd-989c-cf3ebb975b28"], ["updated_at", Thu, 05 Dec 2013 17:15:56 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.7ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'fe8248c7-b129-42b4-832c-ee4ce655a752' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.5ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:15:56 UTC +00:00], ["item_id", "0753b1f9-e2e3-418a-a0de-3a110c5a7879"], ["purchaser_id", "189c34e7-421b-4305-8c9b-9111d4b78bb5"], ["updated_at", Thu, 05 Dec 2013 17:15:56 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "merchants"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "purchasers"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "items"[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "purchases"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mPurchase Load (0.4ms)[0m  [1mSELECT "purchases".* FROM "purchases"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (2.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (7.9ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:16:08 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:16:08 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (1.3ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'f416d1cf-4e67-4efb-a73c-c5cfed8a2a10' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:16:08 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "f416d1cf-4e67-4efb-a73c-c5cfed8a2a10"], ["price", #<BigDecimal:7fe0391cd970,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:16:08 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (1.1ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:16:08 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:16:08 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:16:08 UTC +00:00], ["item_id", "cd323a9e-c898-4dfc-b151-28975623fc73"], ["purchaser_id", "59acdb8c-2ff4-40d4-9d2e-28c58bc1aea3"], ["updated_at", Thu, 05 Dec 2013 17:16:08 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.6ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:16:08 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:16:08 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '969cc0f4-38ef-43bc-af91-9ff2e4ebdb84' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:16:08 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "969cc0f4-38ef-43bc-af91-9ff2e4ebdb84"], ["price", #<BigDecimal:7fe035f507b8,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:16:08 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:16:08 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:16:08 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:16:08 UTC +00:00], ["item_id", "9566ae9b-5382-4ea0-af43-8b004e6662c8"], ["purchaser_id", "e2054df4-ab3e-4350-b008-7b4aea84783f"], ["updated_at", Thu, 05 Dec 2013 17:16:08 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:16:08 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:16:08 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.5ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'ecdb6d52-e79b-4dff-ad94-85a233181623' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:16:08 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "ecdb6d52-e79b-4dff-ad94-85a233181623"], ["price", #<BigDecimal:7fe0379aeb78,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:16:08 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.5ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:16:08 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:16:08 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:16:08 UTC +00:00], ["item_id", "d458d063-0ff8-4b2c-a1b4-fb3343644cf3"], ["purchaser_id", "6b96a2db-5cf6-4977-8268-dfeeae45019f"], ["updated_at", Thu, 05 Dec 2013 17:16:08 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.7ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'ecdb6d52-e79b-4dff-ad94-85a233181623' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.5ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:16:08 UTC +00:00], ["item_id", "d458d063-0ff8-4b2c-a1b4-fb3343644cf3"], ["purchaser_id", "59acdb8c-2ff4-40d4-9d2e-28c58bc1aea3"], ["updated_at", Thu, 05 Dec 2013 17:16:08 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "merchants"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "purchasers"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "items"[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "purchases"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mPurchase Load (0.3ms)[0m  [1mSELECT "purchases".* FROM "purchases"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (2.0ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (6.9ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:16:28 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:16:28 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.6ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '3e66e3d6-9eaa-40fa-901f-f64ae89ad6bc' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:16:28 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "3e66e3d6-9eaa-40fa-901f-f64ae89ad6bc"], ["price", #<BigDecimal:7f82147757c0,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:16:28 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.6ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:16:28 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:16:28 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:16:28 UTC +00:00], ["item_id", "616116c2-b74f-4f0b-a556-131ba6657987"], ["purchaser_id", "8b3b9bea-2c4d-47b4-b1c8-007189e72997"], ["updated_at", Thu, 05 Dec 2013 17:16:28 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:16:28 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:16:28 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '48e26575-296d-44d6-8955-3548827271c5' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:16:28 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "48e26575-296d-44d6-8955-3548827271c5"], ["price", #<BigDecimal:7f82140ed0d8,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:16:28 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:16:28 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:16:28 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:16:28 UTC +00:00], ["item_id", "103dddc3-d12c-4515-8b5b-269ec5764050"], ["purchaser_id", "c5eaf2e9-e7f4-4d80-8f08-8052c219f3e7"], ["updated_at", Thu, 05 Dec 2013 17:16:28 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.7ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:16:28 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:16:28 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.5ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '4b1d0998-c8df-4005-a77d-55f018240641' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:16:28 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "4b1d0998-c8df-4005-a77d-55f018240641"], ["price", #<BigDecimal:7f8214337168,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:16:28 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.5ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:16:28 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:16:28 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:16:28 UTC +00:00], ["item_id", "27e09443-86a4-4fe6-8a1a-6319f7b40433"], ["purchaser_id", "fa4c1d39-5afd-46fb-b6ef-bf810203f092"], ["updated_at", Thu, 05 Dec 2013 17:16:28 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.6ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.7ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '4b1d0998-c8df-4005-a77d-55f018240641' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.6ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:16:28 UTC +00:00], ["item_id", "27e09443-86a4-4fe6-8a1a-6319f7b40433"], ["purchaser_id", "8b3b9bea-2c4d-47b4-b1c8-007189e72997"], ["updated_at", Thu, 05 Dec 2013 17:16:28 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "merchants"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "purchasers"
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "items"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "purchases"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:16:28 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:16:28 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '960c5e74-4c51-405d-93a8-b21940a1dee6' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:16:29 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "960c5e74-4c51-405d-93a8-b21940a1dee6"], ["price", #<BigDecimal:7f82144b5698,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:16:29 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:16:29 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:16:29 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:16:29 UTC +00:00], ["item_id", "0b9d5179-1ca8-4d32-a5af-223ccb517db4"], ["purchaser_id", "295efceb-95e1-4e53-a95f-7280c2cd1c3b"], ["updated_at", Thu, 05 Dec 2013 17:16:29 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.3ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:16:29 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:16:29 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'f430bd58-0f87-4e38-85ef-617bc0fbe30b' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:16:29 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "f430bd58-0f87-4e38-85ef-617bc0fbe30b"], ["price", #<BigDecimal:7f8214554090,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:16:29 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:16:29 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:16:29 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:16:29 UTC +00:00], ["item_id", "100b43c3-80b2-4bf8-b4b1-4a2f862204af"], ["purchaser_id", "90c090b0-1b6d-467f-8dc8-2cad8fc3e708"], ["updated_at", Thu, 05 Dec 2013 17:16:29 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:16:29 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:16:29 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '7ebc2337-f5ff-4214-bd2e-192969ddf027' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:16:29 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "7ebc2337-f5ff-4214-bd2e-192969ddf027"], ["price", #<BigDecimal:7f82145da910,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:16:29 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.5ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:16:29 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:16:29 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:16:29 UTC +00:00], ["item_id", "e9f85c97-f5bd-49be-8f69-635d36461c2b"], ["purchaser_id", "145073f1-8b99-440e-bb03-9bffaa6b52f9"], ["updated_at", Thu, 05 Dec 2013 17:16:29 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.6ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.6ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '7ebc2337-f5ff-4214-bd2e-192969ddf027' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.5ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:16:29 UTC +00:00], ["item_id", "e9f85c97-f5bd-49be-8f69-635d36461c2b"], ["purchaser_id", "295efceb-95e1-4e53-a95f-7280c2cd1c3b"], ["updated_at", Thu, 05 Dec 2013 17:16:29 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchase Load (0.6ms)[0m  SELECT "purchases".* FROM "purchases"
  [1m[36mItem Load (0.8ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "0b9d5179-1ca8-4d32-a5af-223ccb517db4"]]
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "100b43c3-80b2-4bf8-b4b1-4a2f862204af"]]
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "e9f85c97-f5bd-49be-8f69-635d36461c2b"]]
  [1m[35mItem Load (0.6ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "e9f85c97-f5bd-49be-8f69-635d36461c2b"]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (1.9ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (6.8ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.7ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '7e5fa255-c176-4747-87db-4a10568e2fcd' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "7e5fa255-c176-4747-87db-4a10568e2fcd"], ["price", #<BigDecimal:7f7fd63edbd8,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.7ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["item_id", "0bbc1170-3833-4eb0-a4ad-8ef7214fb096"], ["purchaser_id", "0495a3a9-1b07-4bd6-a539-f12469490771"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'a62e47e0-a36f-40e8-a1d5-c7cc22fa04ca' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "a62e47e0-a36f-40e8-a1d5-c7cc22fa04ca"], ["price", #<BigDecimal:7f7fd2e4bbb0,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["item_id", "31032d93-a60d-49b2-a493-da2c33cd0096"], ["purchaser_id", "42bf9e25-5eb5-4d51-8a3c-3e00053bf7d1"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.6ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.3ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '86f3be56-f329-4a87-9947-c26fa2650197' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "86f3be56-f329-4a87-9947-c26fa2650197"], ["price", #<BigDecimal:7f7fd60816e8,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["item_id", "6066cd06-cec7-4089-ac92-523eb3fe9470"], ["purchaser_id", "39873d3f-fcce-45e6-b976-f5fc86d4a685"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.5ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '86f3be56-f329-4a87-9947-c26fa2650197' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["item_id", "6066cd06-cec7-4089-ac92-523eb3fe9470"], ["purchaser_id", "0495a3a9-1b07-4bd6-a539-f12469490771"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "merchants"[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "purchasers"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "items"[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "purchases"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mMerchant Load (0.5ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'd525d57b-4db6-4762-a89f-7707c75aaa4d' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "d525d57b-4db6-4762-a89f-7707c75aaa4d"], ["price", #<BigDecimal:7f7fd62be6b8,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["item_id", "ac1c461a-8efd-4baa-aac1-925730684488"], ["purchaser_id", "e72b84e9-767b-4878-9391-a96c552dd5d2"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '6cbfbea4-264b-47d4-9ed9-9fd4c4e0d058' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "6cbfbea4-264b-47d4-9ed9-9fd4c4e0d058"], ["price", #<BigDecimal:7f7fd63650f8,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["item_id", "0a043589-311b-48b1-89ba-b33f4b0f66e2"], ["purchaser_id", "d4b3cb1f-bf7b-4e9f-88d8-38c011994cd6"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'e0552f5f-ee36-4ffe-9539-e7f01b44b9d6' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "e0552f5f-ee36-4ffe-9539-e7f01b44b9d6"], ["price", #<BigDecimal:7f7fd27d2ce8,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["item_id", "8b94a57e-bbc7-442e-8d58-1c6812640e91"], ["purchaser_id", "1d8167b1-0958-440f-8a40-157c8271755d"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'e0552f5f-ee36-4ffe-9539-e7f01b44b9d6' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["item_id", "8b94a57e-bbc7-442e-8d58-1c6812640e91"], ["purchaser_id", "e72b84e9-767b-4878-9391-a96c552dd5d2"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchase Load (0.5ms)[0m  SELECT "purchases".* FROM "purchases"
  [1m[36mItem Load (1.3ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "ac1c461a-8efd-4baa-aac1-925730684488"]]
  [1m[35mItem Load (0.8ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "0a043589-311b-48b1-89ba-b33f4b0f66e2"]]
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "8b94a57e-bbc7-442e-8d58-1c6812640e91"]]
  [1m[35mItem Load (0.5ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "8b94a57e-bbc7-442e-8d58-1c6812640e91"]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.8ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '11cc882b-143a-4b9e-a953-b4ec550124c2' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "11cc882b-143a-4b9e-a953-b4ec550124c2"], ["price", #<BigDecimal:7f7fd7145d08,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["item_id", "488c8041-2f64-4ee5-ac0e-7761715d4abc"], ["purchaser_id", "fa6eaa54-7283-4eef-8ca5-3b4a537d6cf4"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'afcd5e6a-6cbb-4576-a7fd-b7c76ba98a75' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "afcd5e6a-6cbb-4576-a7fd-b7c76ba98a75"], ["price", #<BigDecimal:7f7fd63c6088,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["item_id", "633c7c22-c013-44b6-b895-5e6df21779b2"], ["purchaser_id", "ab77b050-c65b-4dde-bbc0-1172d1dc4d9a"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '7a0017d9-990c-473b-a150-9e77bfd26936' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "7a0017d9-990c-473b-a150-9e77bfd26936"], ["price", #<BigDecimal:7f7fd716fce8,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["item_id", "b4f094ff-73e8-407c-8bb7-ec5bebf254d5"], ["purchaser_id", "6f69847c-924f-4a14-8519-4e8e302ce9db"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '7a0017d9-990c-473b-a150-9e77bfd26936' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.3ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["item_id", "b4f094ff-73e8-407c-8bb7-ec5bebf254d5"], ["purchaser_id", "fa6eaa54-7283-4eef-8ca5-3b4a537d6cf4"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '11cc882b-143a-4b9e-a953-b4ec550124c2' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.5ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["item_id", "488c8041-2f64-4ee5-ac0e-7761715d4abc"], ["purchaser_id", "fa6eaa54-7283-4eef-8ca5-3b4a537d6cf4"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.3ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'afcd5e6a-6cbb-4576-a7fd-b7c76ba98a75' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["item_id", "633c7c22-c013-44b6-b895-5e6df21779b2"], ["purchaser_id", "ab77b050-c65b-4dde-bbc0-1172d1dc4d9a"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '7a0017d9-990c-473b-a150-9e77bfd26936' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["item_id", "b4f094ff-73e8-407c-8bb7-ec5bebf254d5"], ["purchaser_id", "6f69847c-924f-4a14-8519-4e8e302ce9db"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '7a0017d9-990c-473b-a150-9e77bfd26936' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00], ["item_id", "b4f094ff-73e8-407c-8bb7-ec5bebf254d5"], ["purchaser_id", "fa6eaa54-7283-4eef-8ca5-3b4a537d6cf4"], ["updated_at", Thu, 05 Dec 2013 17:17:48 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchase Load (0.4ms)[0m  SELECT "purchases".* FROM "purchases"
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "488c8041-2f64-4ee5-ac0e-7761715d4abc"]]
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "633c7c22-c013-44b6-b895-5e6df21779b2"]]
  [1m[36mItem Load (0.3ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "b4f094ff-73e8-407c-8bb7-ec5bebf254d5"]]
  [1m[35mItem Load (0.3ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "b4f094ff-73e8-407c-8bb7-ec5bebf254d5"]]
  [1m[36mItem Load (0.3ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "488c8041-2f64-4ee5-ac0e-7761715d4abc"]]
  [1m[35mItem Load (0.3ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "633c7c22-c013-44b6-b895-5e6df21779b2"]]
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "b4f094ff-73e8-407c-8bb7-ec5bebf254d5"]]
  [1m[35mItem Load (0.5ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "b4f094ff-73e8-407c-8bb7-ec5bebf254d5"]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (1.2ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (6.6ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.8ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '05b4a5b5-1d06-4b7f-83cb-366994fb731a' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "05b4a5b5-1d06-4b7f-83cb-366994fb731a"], ["price", #<BigDecimal:7fdcb376efe8,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.9ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["item_id", "10a4e844-4877-4edb-9518-ba1725e47b63"], ["purchaser_id", "0700f3a1-32fc-46df-85ee-630d0a269de9"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.6ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'd6990afe-fd7c-490e-bc77-19a8b0b41721' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "d6990afe-fd7c-490e-bc77-19a8b0b41721"], ["price", #<BigDecimal:7fdcb32c2aa8,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.6ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["item_id", "19eb2938-e0c8-4b47-ae43-8f2325af8865"], ["purchaser_id", "1804be8f-fde6-48f4-8e16-f31627ab0940"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.3ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.5ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '9ef90df1-b4aa-4ce5-8c13-161cdb7d8692' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "9ef90df1-b4aa-4ce5-8c13-161cdb7d8692"], ["price", #<BigDecimal:7fdcb3340048,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["item_id", "88b94ab9-545f-4306-af58-1032fbf7da51"], ["purchaser_id", "5e4af028-96e3-4a71-9247-d510a5ac7cda"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '9ef90df1-b4aa-4ce5-8c13-161cdb7d8692' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.8ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["item_id", "88b94ab9-545f-4306-af58-1032fbf7da51"], ["purchaser_id", "0700f3a1-32fc-46df-85ee-630d0a269de9"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "merchants"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "purchasers"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "items"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "purchases"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mMerchant Load (0.6ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'f0aea99f-8322-43c4-acfa-d5f50f7a2f24' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "f0aea99f-8322-43c4-acfa-d5f50f7a2f24"], ["price", #<BigDecimal:7fdcb3549f88,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.5ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["item_id", "1cf95ed1-41fb-4076-9a11-926e55ecf3a7"], ["purchaser_id", "1e296dab-acae-4e35-9b66-b85fb8f708a0"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.5ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.7ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '0d5f1e94-722c-42d6-a25a-bf86089c1e1c' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "0d5f1e94-722c-42d6-a25a-bf86089c1e1c"], ["price", #<BigDecimal:7fdcb35d0c18,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["item_id", "aa02a100-65e9-4368-af86-f8285cc23179"], ["purchaser_id", "e20e441c-3984-4f29-bb69-80b1c0ba51e7"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.6ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '77f8b75b-d1f2-4232-9966-30830190275f' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "77f8b75b-d1f2-4232-9966-30830190275f"], ["price", #<BigDecimal:7fdcb36658b8,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.5ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["item_id", "4b05be07-ef0a-48e6-a86b-626f0846b825"], ["purchaser_id", "2f2a37e6-0734-447d-b2c8-64e03d55548b"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '77f8b75b-d1f2-4232-9966-30830190275f' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.3ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["item_id", "4b05be07-ef0a-48e6-a86b-626f0846b825"], ["purchaser_id", "1e296dab-acae-4e35-9b66-b85fb8f708a0"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'f0aea99f-8322-43c4-acfa-d5f50f7a2f24' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["item_id", "1cf95ed1-41fb-4076-9a11-926e55ecf3a7"], ["purchaser_id", "1e296dab-acae-4e35-9b66-b85fb8f708a0"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.6ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '0d5f1e94-722c-42d6-a25a-bf86089c1e1c' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.3ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["item_id", "aa02a100-65e9-4368-af86-f8285cc23179"], ["purchaser_id", "e20e441c-3984-4f29-bb69-80b1c0ba51e7"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '77f8b75b-d1f2-4232-9966-30830190275f' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["item_id", "4b05be07-ef0a-48e6-a86b-626f0846b825"], ["purchaser_id", "2f2a37e6-0734-447d-b2c8-64e03d55548b"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.7ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.6ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '77f8b75b-d1f2-4232-9966-30830190275f' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.5ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["item_id", "4b05be07-ef0a-48e6-a86b-626f0846b825"], ["purchaser_id", "1e296dab-acae-4e35-9b66-b85fb8f708a0"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "merchants"
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "purchasers"[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "items"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "purchases"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'acdcdd26-fbe9-4e7a-8548-5d88203b9d90' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "acdcdd26-fbe9-4e7a-8548-5d88203b9d90"], ["price", #<BigDecimal:7fdcb374e400,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["item_id", "6a516b7e-56ba-489d-bda3-9f2a33d22863"], ["purchaser_id", "5bb1ed54-8e2b-4168-bdef-97882c3ac9c4"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '055e1de5-b3ff-4ec5-b132-5f72f491e5cb' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "055e1de5-b3ff-4ec5-b132-5f72f491e5cb"], ["price", #<BigDecimal:7fdcb5e5e540,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["item_id", "4b57fc3e-72b0-477e-9b64-52ac4e13c6fe"], ["purchaser_id", "ddd36321-9d00-4301-a434-2785462f2fb4"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '19e596b9-bf24-4ac1-96dc-5c26121925c1' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "19e596b9-bf24-4ac1-96dc-5c26121925c1"], ["price", #<BigDecimal:7fdcb5e8e380,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["item_id", "13d0dcda-21b1-4174-93ac-10614573bebb"], ["purchaser_id", "ecbde5b3-4816-4dc8-ba21-c9b6fb73f836"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.7ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '19e596b9-bf24-4ac1-96dc-5c26121925c1' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["item_id", "13d0dcda-21b1-4174-93ac-10614573bebb"], ["purchaser_id", "5bb1ed54-8e2b-4168-bdef-97882c3ac9c4"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchase Load (0.4ms)[0m  [1mSELECT "purchases".* FROM "purchases"[0m
  [1m[35mItem Load (1.2ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "6a516b7e-56ba-489d-bda3-9f2a33d22863"]]
  [1m[36mItem Load (0.8ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "4b57fc3e-72b0-477e-9b64-52ac4e13c6fe"]]
  [1m[35mItem Load (0.6ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "13d0dcda-21b1-4174-93ac-10614573bebb"]]
  [1m[36mItem Load (0.8ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "13d0dcda-21b1-4174-93ac-10614573bebb"]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '6b2f8863-3b0f-4bdb-a072-bc9e3c2db1bd' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "6b2f8863-3b0f-4bdb-a072-bc9e3c2db1bd"], ["price", #<BigDecimal:7fdcb5ef7380,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["item_id", "d6049d4a-32ba-46d7-9345-bd365f5ee31d"], ["purchaser_id", "9262606f-72dc-411d-bb05-55cccfb574f7"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.5ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.6ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '956160c0-83ac-4862-821f-4b329b184c48' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "956160c0-83ac-4862-821f-4b329b184c48"], ["price", #<BigDecimal:7fdcb786b0f0,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["item_id", "efea7c81-5659-4d6d-97d8-98d0ae1693b3"], ["purchaser_id", "223bd5be-7ffd-4bc9-82e2-5763d408aae9"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.5ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.5ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '12395126-f11f-44cd-9020-590fa0439a67' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "12395126-f11f-44cd-9020-590fa0439a67"], ["price", #<BigDecimal:7fdcb386ee20,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["item_id", "7b2f8a2b-f9f4-445a-9547-a8004e993f46"], ["purchaser_id", "bd02a1b9-2968-4901-a1fc-4e48813c4431"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.5ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '12395126-f11f-44cd-9020-590fa0439a67' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["item_id", "7b2f8a2b-f9f4-445a-9547-a8004e993f46"], ["purchaser_id", "9262606f-72dc-411d-bb05-55cccfb574f7"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.5ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '6b2f8863-3b0f-4bdb-a072-bc9e3c2db1bd' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["item_id", "d6049d4a-32ba-46d7-9345-bd365f5ee31d"], ["purchaser_id", "9262606f-72dc-411d-bb05-55cccfb574f7"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '956160c0-83ac-4862-821f-4b329b184c48' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.3ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["item_id", "efea7c81-5659-4d6d-97d8-98d0ae1693b3"], ["purchaser_id", "223bd5be-7ffd-4bc9-82e2-5763d408aae9"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '12395126-f11f-44cd-9020-590fa0439a67' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.5ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["item_id", "7b2f8a2b-f9f4-445a-9547-a8004e993f46"], ["purchaser_id", "bd02a1b9-2968-4901-a1fc-4e48813c4431"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '12395126-f11f-44cd-9020-590fa0439a67' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.3ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00], ["item_id", "7b2f8a2b-f9f4-445a-9547-a8004e993f46"], ["purchaser_id", "9262606f-72dc-411d-bb05-55cccfb574f7"], ["updated_at", Thu, 05 Dec 2013 17:18:38 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchase Load (0.3ms)[0m  [1mSELECT "purchases".* FROM "purchases"[0m
  [1m[35mItem Load (0.8ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "d6049d4a-32ba-46d7-9345-bd365f5ee31d"]]
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "efea7c81-5659-4d6d-97d8-98d0ae1693b3"]]
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "7b2f8a2b-f9f4-445a-9547-a8004e993f46"]]
  [1m[36mItem Load (0.6ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "7b2f8a2b-f9f4-445a-9547-a8004e993f46"]]
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "d6049d4a-32ba-46d7-9345-bd365f5ee31d"]]
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "efea7c81-5659-4d6d-97d8-98d0ae1693b3"]]
  [1m[35mItem Load (0.3ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "7b2f8a2b-f9f4-445a-9547-a8004e993f46"]]
  [1m[36mItem Load (0.3ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "7b2f8a2b-f9f4-445a-9547-a8004e993f46"]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (2.0ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (6.9ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:21:38 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:21:38 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.7ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'f950aacd-391c-4a9b-a45a-fd9f6f1f228f' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:21:38 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "f950aacd-391c-4a9b-a45a-fd9f6f1f228f"], ["price", #<BigDecimal:7fa7b6ecb868,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:21:38 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.5ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:21:38 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:21:38 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:21:38 UTC +00:00], ["item_id", "6644009a-4049-4a80-a364-075533c54b74"], ["purchaser_id", "8c042adc-7181-4547-85ab-7bce663ecffd"], ["updated_at", Thu, 05 Dec 2013 17:21:38 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.6ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:21:38 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:21:38 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '32b3c687-14a3-425b-8cdd-e68be404fe72' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "32b3c687-14a3-425b-8cdd-e68be404fe72"], ["price", #<BigDecimal:7fa7b6893d60,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["item_id", "2134c6aa-6637-454f-bbf4-69e14561deb7"], ["purchaser_id", "7e8620f1-72ef-4989-8633-e70d17fe386f"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.5ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '7c25c934-67a2-4132-a7d9-ac87ad247df7' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "7c25c934-67a2-4132-a7d9-ac87ad247df7"], ["price", #<BigDecimal:7fa7b6b14dc8,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.6ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["item_id", "41d87b70-29fc-4de1-90f3-50e0814f515a"], ["purchaser_id", "51b16bc3-c7bf-4535-9d43-355a4b6becee"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.5ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.5ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '7c25c934-67a2-4132-a7d9-ac87ad247df7' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["item_id", "41d87b70-29fc-4de1-90f3-50e0814f515a"], ["purchaser_id", "8c042adc-7181-4547-85ab-7bce663ecffd"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "merchants"[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "purchasers"
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "items"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "purchases"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '6777963d-024d-4896-b3d4-f6f6f970a424' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "6777963d-024d-4896-b3d4-f6f6f970a424"], ["price", #<BigDecimal:7fa7b6cc7be8,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["item_id", "c67dbcde-02f9-4471-8f32-47f663cdf286"], ["purchaser_id", "481a0640-1e8d-4fbf-8eac-ceff88c185af"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'ca7faf58-601a-4668-b27b-add79c82987b' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "ca7faf58-601a-4668-b27b-add79c82987b"], ["price", #<BigDecimal:7fa7b6d64560,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.5ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["item_id", "15bcb45c-32f9-4c99-9418-520942acd9b9"], ["purchaser_id", "bed91649-7bca-49f8-a27f-3d59b20cbf29"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '04f3bbc6-225f-4978-88f4-9eb3e5493eac' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "04f3bbc6-225f-4978-88f4-9eb3e5493eac"], ["price", #<BigDecimal:7fa7b6de1f60,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.5ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["item_id", "66133ea8-cc60-4349-a095-bc0b1920e170"], ["purchaser_id", "a63f0a58-6dc6-4d77-83de-4ccfaa49a0f5"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '04f3bbc6-225f-4978-88f4-9eb3e5493eac' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["item_id", "66133ea8-cc60-4349-a095-bc0b1920e170"], ["purchaser_id", "481a0640-1e8d-4fbf-8eac-ceff88c185af"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.7ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '6777963d-024d-4896-b3d4-f6f6f970a424' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.5ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["item_id", "c67dbcde-02f9-4471-8f32-47f663cdf286"], ["purchaser_id", "481a0640-1e8d-4fbf-8eac-ceff88c185af"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.5ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'ca7faf58-601a-4668-b27b-add79c82987b' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["item_id", "15bcb45c-32f9-4c99-9418-520942acd9b9"], ["purchaser_id", "bed91649-7bca-49f8-a27f-3d59b20cbf29"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '04f3bbc6-225f-4978-88f4-9eb3e5493eac' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.6ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["item_id", "66133ea8-cc60-4349-a095-bc0b1920e170"], ["purchaser_id", "a63f0a58-6dc6-4d77-83de-4ccfaa49a0f5"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '04f3bbc6-225f-4978-88f4-9eb3e5493eac' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.3ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["item_id", "66133ea8-cc60-4349-a095-bc0b1920e170"], ["purchaser_id", "481a0640-1e8d-4fbf-8eac-ceff88c185af"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "merchants"
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "purchasers"[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "items"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "purchases"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (0.6ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '55adf422-75f9-43c7-8d5b-d2d88c2db946' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "55adf422-75f9-43c7-8d5b-d2d88c2db946"], ["price", #<BigDecimal:7fa7b4e846b8,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["item_id", "7bb711c4-8297-4bfd-84ab-d4da8a933935"], ["purchaser_id", "1ec02dbf-0063-49c6-92aa-8db720430922"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.7ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '08623da3-61e0-4dc3-b515-6fc1b310b0c4' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "08623da3-61e0-4dc3-b515-6fc1b310b0c4"], ["price", #<BigDecimal:7fa7b31d3d98,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.6ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["item_id", "9d9fa153-21f8-4124-87d4-805dbf6236f3"], ["purchaser_id", "440b158c-79ee-46eb-8a79-cb322f0e8e90"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'c4b5f0cf-4bd4-4bb2-8ced-42532d9d4906' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "c4b5f0cf-4bd4-4bb2-8ced-42532d9d4906"], ["price", #<BigDecimal:7fa7b6ed36a8,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.5ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["item_id", "238d1292-d1fd-4592-9edb-0be4fb206a9c"], ["purchaser_id", "f1b1d7c2-9c87-4c54-9767-4a96872e8579"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'c4b5f0cf-4bd4-4bb2-8ced-42532d9d4906' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.5ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["item_id", "238d1292-d1fd-4592-9edb-0be4fb206a9c"], ["purchaser_id", "1ec02dbf-0063-49c6-92aa-8db720430922"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.5ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '55adf422-75f9-43c7-8d5b-d2d88c2db946' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.3ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'John Smith' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["name", "John Smith"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["item_id", "7bb711c4-8297-4bfd-84ab-d4da8a933935"], ["purchaser_id", "103a65b4-ec6e-4866-a70c-b046b911e734"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "merchants"
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "purchasers"[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "items"
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "purchases"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '2b4fa34e-d60a-4647-8ccd-33e444f52d75' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "2b4fa34e-d60a-4647-8ccd-33e444f52d75"], ["price", #<BigDecimal:7fa7b6f9af78,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["item_id", "e03dbbee-b313-4ed3-9e42-f0432a921056"], ["purchaser_id", "b45d9b0c-327e-4861-8268-8eeeaf0585a0"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '8541aed5-1490-4072-aed1-28a0897e510f' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "8541aed5-1490-4072-aed1-28a0897e510f"], ["price", #<BigDecimal:7fa7b4eb6cf8,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["item_id", "4b4975e3-ca0e-441c-8ddc-c119241dca75"], ["purchaser_id", "9485bd00-a09d-4918-903a-decf8f977f06"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.5ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '7ea70e22-f588-4ec8-9d2b-a294de59fb13' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "7ea70e22-f588-4ec8-9d2b-a294de59fb13"], ["price", #<BigDecimal:7fa7b321a9f0,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["item_id", "600fa494-24f9-480e-b26d-dd0d5f9f9983"], ["purchaser_id", "866eaf6e-63c7-4c3d-89f8-bae3aebc5eca"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.8ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '7ea70e22-f588-4ec8-9d2b-a294de59fb13' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.5ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["item_id", "600fa494-24f9-480e-b26d-dd0d5f9f9983"], ["purchaser_id", "b45d9b0c-327e-4861-8268-8eeeaf0585a0"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchase Load (0.7ms)[0m  [1mSELECT "purchases".* FROM "purchases"[0m
  [1m[35mItem Load (0.9ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "e03dbbee-b313-4ed3-9e42-f0432a921056"]]
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "4b4975e3-ca0e-441c-8ddc-c119241dca75"]]
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "600fa494-24f9-480e-b26d-dd0d5f9f9983"]]
  [1m[36mItem Load (0.6ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "600fa494-24f9-480e-b26d-dd0d5f9f9983"]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.5ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'd56c0f62-b834-47d0-90bc-83649c504835' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "d56c0f62-b834-47d0-90bc-83649c504835"], ["price", #<BigDecimal:7fa7b3229ea0,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["item_id", "bd584adb-3f14-439a-b24c-46393530527c"], ["purchaser_id", "46f5d0e1-3fe1-43f5-933f-66d02c556c41"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '36dda853-aabd-4961-b2c1-62e65f7ca67e' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "36dda853-aabd-4961-b2c1-62e65f7ca67e"], ["price", #<BigDecimal:7fa7b8829c10,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.5ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["item_id", "302b7153-280f-452a-9608-7a7108a3a333"], ["purchaser_id", "2bfb71de-8605-47d7-a9ea-758d1b3e5a88"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.5ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.6ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'a4e6a21b-259a-47dd-8124-07dcc73db614' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "a4e6a21b-259a-47dd-8124-07dcc73db614"], ["price", #<BigDecimal:7fa7b4fa5948,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["item_id", "b5b95ddc-8d04-4b46-8bb9-91bdd00010fe"], ["purchaser_id", "2da9e3c4-60cf-4c0c-9463-5e7ba7229e41"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'a4e6a21b-259a-47dd-8124-07dcc73db614' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["item_id", "b5b95ddc-8d04-4b46-8bb9-91bdd00010fe"], ["purchaser_id", "46f5d0e1-3fe1-43f5-933f-66d02c556c41"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'd56c0f62-b834-47d0-90bc-83649c504835' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["item_id", "bd584adb-3f14-439a-b24c-46393530527c"], ["purchaser_id", "46f5d0e1-3fe1-43f5-933f-66d02c556c41"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '36dda853-aabd-4961-b2c1-62e65f7ca67e' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.7ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["item_id", "302b7153-280f-452a-9608-7a7108a3a333"], ["purchaser_id", "2bfb71de-8605-47d7-a9ea-758d1b3e5a88"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.7ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.6ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'a4e6a21b-259a-47dd-8124-07dcc73db614' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.6ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["item_id", "b5b95ddc-8d04-4b46-8bb9-91bdd00010fe"], ["purchaser_id", "2da9e3c4-60cf-4c0c-9463-5e7ba7229e41"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.5ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.5ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'a4e6a21b-259a-47dd-8124-07dcc73db614' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.5ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00], ["item_id", "b5b95ddc-8d04-4b46-8bb9-91bdd00010fe"], ["purchaser_id", "46f5d0e1-3fe1-43f5-933f-66d02c556c41"], ["updated_at", Thu, 05 Dec 2013 17:21:39 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchase Load (0.4ms)[0m  [1mSELECT "purchases".* FROM "purchases"[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "bd584adb-3f14-439a-b24c-46393530527c"]]
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "302b7153-280f-452a-9608-7a7108a3a333"]]
  [1m[35mItem Load (0.3ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "b5b95ddc-8d04-4b46-8bb9-91bdd00010fe"]]
  [1m[36mItem Load (0.3ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "b5b95ddc-8d04-4b46-8bb9-91bdd00010fe"]]
  [1m[35mItem Load (0.3ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "bd584adb-3f14-439a-b24c-46393530527c"]]
  [1m[36mItem Load (0.3ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "302b7153-280f-452a-9608-7a7108a3a333"]]
  [1m[35mItem Load (0.3ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "b5b95ddc-8d04-4b46-8bb9-91bdd00010fe"]]
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "b5b95ddc-8d04-4b46-8bb9-91bdd00010fe"]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (2.3ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (6.4ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.8ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'f2f00c17-46a5-4d06-871c-684c6f5dfdbb' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "f2f00c17-46a5-4d06-871c-684c6f5dfdbb"], ["price", #<BigDecimal:7fb90d855020,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.6ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["item_id", "2f8cd783-4df9-4c24-8092-a507ab6496d7"], ["purchaser_id", "c17495f5-2fd1-434c-9d5b-bb7069d06698"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'd6ebea00-bc9b-41b6-9317-8d7c2423ff29' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "d6ebea00-bc9b-41b6-9317-8d7c2423ff29"], ["price", #<BigDecimal:7fb90bbb5a00,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.3ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["item_id", "384f2578-3d92-4224-b7ed-c0ec642fb486"], ["purchaser_id", "46a0c27a-9d5d-4d6f-94bc-02bf09bcf036"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.7ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.5ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'fd601835-877a-46f3-aeb8-8b12d6d33ad1' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "fd601835-877a-46f3-aeb8-8b12d6d33ad1"], ["price", #<BigDecimal:7fb90bd75ca0,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["item_id", "15f25558-32b5-4737-ae43-e0e3a5bbdc67"], ["purchaser_id", "753723e8-5183-45ef-b419-7856ddb4165d"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'fd601835-877a-46f3-aeb8-8b12d6d33ad1' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["item_id", "15f25558-32b5-4737-ae43-e0e3a5bbdc67"], ["purchaser_id", "c17495f5-2fd1-434c-9d5b-bb7069d06698"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "merchants"[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "purchasers"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "items"[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "purchases"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mMerchant Load (0.5ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.9ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '5b2d1af1-f4a5-4964-b0bb-05f4fcc6dbd8' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "5b2d1af1-f4a5-4964-b0bb-05f4fcc6dbd8"], ["price", #<BigDecimal:7fb90bea5b48,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["item_id", "a0025b2c-b366-4d0e-ae16-a668cd585bf0"], ["purchaser_id", "4d7b903c-7686-4015-ac8e-d1794af6b6fb"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '821cce96-5771-4424-b80b-0eddf6ea4c77' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "821cce96-5771-4424-b80b-0eddf6ea4c77"], ["price", #<BigDecimal:7fb90bf3afb8,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.7ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["item_id", "156345ca-552b-4e75-807a-886bffcb37d6"], ["purchaser_id", "72c396c0-0ec3-477e-be6b-8da2641fa91d"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.5ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '1f51842b-c774-4be2-9d81-731d8ab39b9e' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "1f51842b-c774-4be2-9d81-731d8ab39b9e"], ["price", #<BigDecimal:7fb90bfa9be8,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["item_id", "62e1c298-1aca-4c7e-92ff-20ada194aede"], ["purchaser_id", "8281b6cb-4b11-4a89-9ea0-d8e22e3cc8c3"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '1f51842b-c774-4be2-9d81-731d8ab39b9e' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["item_id", "62e1c298-1aca-4c7e-92ff-20ada194aede"], ["purchaser_id", "4d7b903c-7686-4015-ac8e-d1794af6b6fb"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.5ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '5b2d1af1-f4a5-4964-b0bb-05f4fcc6dbd8' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.8ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["item_id", "a0025b2c-b366-4d0e-ae16-a668cd585bf0"], ["purchaser_id", "4d7b903c-7686-4015-ac8e-d1794af6b6fb"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.6ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '821cce96-5771-4424-b80b-0eddf6ea4c77' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.7ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["item_id", "156345ca-552b-4e75-807a-886bffcb37d6"], ["purchaser_id", "72c396c0-0ec3-477e-be6b-8da2641fa91d"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.6ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '1f51842b-c774-4be2-9d81-731d8ab39b9e' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["item_id", "62e1c298-1aca-4c7e-92ff-20ada194aede"], ["purchaser_id", "8281b6cb-4b11-4a89-9ea0-d8e22e3cc8c3"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.5ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '1f51842b-c774-4be2-9d81-731d8ab39b9e' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["item_id", "62e1c298-1aca-4c7e-92ff-20ada194aede"], ["purchaser_id", "4d7b903c-7686-4015-ac8e-d1794af6b6fb"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "merchants"
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "purchasers"[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "items"
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "purchases"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '32f80592-f4de-4e46-92ab-e3073a29efe7' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "32f80592-f4de-4e46-92ab-e3073a29efe7"], ["price", #<BigDecimal:7fb9095c1038,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["item_id", "58a66a3a-29d7-473f-acf3-30f8ff8d3d0a"], ["purchaser_id", "2e032442-733b-4088-9214-8e4ee4bed81c"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '2749cfc3-e561-45c0-87a9-4ee0ec711596' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "2749cfc3-e561-45c0-87a9-4ee0ec711596"], ["price", #<BigDecimal:7fb908a00be0,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.3ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["item_id", "f3fb41b1-78bd-4177-80e8-de382c2fc242"], ["purchaser_id", "41baffb5-dfb6-4438-bea2-2bb0697d3576"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'd92d902e-47be-4798-af05-ee13572d06b7' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "d92d902e-47be-4798-af05-ee13572d06b7"], ["price", #<BigDecimal:7fb909620f88,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["item_id", "cfea30ef-528e-4368-a2c8-b76b3737e4e7"], ["purchaser_id", "79e43ec1-7c4e-4cab-94cd-8d7742341178"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'd92d902e-47be-4798-af05-ee13572d06b7' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.3ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["item_id", "cfea30ef-528e-4368-a2c8-b76b3737e4e7"], ["purchaser_id", "2e032442-733b-4088-9214-8e4ee4bed81c"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.6ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.5ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '32f80592-f4de-4e46-92ab-e3073a29efe7' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.3ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'John Smith' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "John Smith"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["item_id", "58a66a3a-29d7-473f-acf3-30f8ff8d3d0a"], ["purchaser_id", "059fc582-4bd3-4de5-ac0c-fbf177dffd88"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "merchants"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "purchasers"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "items"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "purchases"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '42ae9378-0ee0-4126-bbbd-d4811459c0b3' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "42ae9378-0ee0-4126-bbbd-d4811459c0b3"], ["price", #<BigDecimal:7fb90d8cf168,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["item_id", "5384be14-7277-4c60-aa00-8e8ce7690c1b"], ["purchaser_id", "d80d5e02-64e7-468b-ac0c-d91bfeddab27"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '46224d4d-e257-488d-b5ff-e7d29b586378' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "46224d4d-e257-488d-b5ff-e7d29b586378"], ["price", #<BigDecimal:7fb908a72ec0,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.3ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["item_id", "0ad5902f-a3a9-4a95-a4ec-6f977b7d45da"], ["purchaser_id", "9d99e1c9-896c-43a1-98c2-73e0df5bd767"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.7ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.6ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'e86e61d9-b173-4bcb-af18-050a975374c2' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "e86e61d9-b173-4bcb-af18-050a975374c2"], ["price", #<BigDecimal:7fb90d916bf8,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.3ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["item_id", "3f1c92bf-dad5-4de0-8429-116a9ef4adb0"], ["purchaser_id", "cc1f3218-bad9-4bd9-a25f-64e41be0df30"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.8ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'e86e61d9-b173-4bcb-af18-050a975374c2' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["item_id", "3f1c92bf-dad5-4de0-8429-116a9ef4adb0"], ["purchaser_id", "d80d5e02-64e7-468b-ac0c-d91bfeddab27"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchase Load (0.4ms)[0m  [1mSELECT "purchases".* FROM "purchases"[0m
  [1m[35mItem Load (1.2ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "5384be14-7277-4c60-aa00-8e8ce7690c1b"]]
  [1m[36mItem Load (0.7ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "0ad5902f-a3a9-4a95-a4ec-6f977b7d45da"]]
  [1m[35mItem Load (0.5ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "3f1c92bf-dad5-4de0-8429-116a9ef4adb0"]]
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "3f1c92bf-dad5-4de0-8429-116a9ef4adb0"]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (0.6ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.6ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '58495936-70d6-45ac-92ed-8571425b9e6b' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "58495936-70d6-45ac-92ed-8571425b9e6b"], ["price", #<BigDecimal:7fb909712090,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["item_id", "4104d794-e390-413c-a087-464ab9f980be"], ["purchaser_id", "faa3e319-1f10-4b3b-b07a-2d8741af1547"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '2130529e-ae56-40fa-b9a6-edb805b60f96' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "2130529e-ae56-40fa-b9a6-edb805b60f96"], ["price", #<BigDecimal:7fb90d975e00,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.7ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["item_id", "4251d334-347c-4dd4-a08f-7f9f002d833f"], ["purchaser_id", "e880b5a2-9a8f-4277-afb5-cee760c56591"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '82552188-b4a4-4f78-99d5-a2ab01008d6a' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "82552188-b4a4-4f78-99d5-a2ab01008d6a"], ["price", #<BigDecimal:7fb90d995b10,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.5ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["item_id", "fff25022-ff3f-4cb3-9858-14b95ed443a8"], ["purchaser_id", "aa228536-624a-478c-8a17-8b8696495380"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.5ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.5ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '82552188-b4a4-4f78-99d5-a2ab01008d6a' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.5ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["item_id", "fff25022-ff3f-4cb3-9858-14b95ed443a8"], ["purchaser_id", "faa3e319-1f10-4b3b-b07a-2d8741af1547"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.5ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.5ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '58495936-70d6-45ac-92ed-8571425b9e6b' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["item_id", "4104d794-e390-413c-a087-464ab9f980be"], ["purchaser_id", "faa3e319-1f10-4b3b-b07a-2d8741af1547"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '2130529e-ae56-40fa-b9a6-edb805b60f96' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["item_id", "4251d334-347c-4dd4-a08f-7f9f002d833f"], ["purchaser_id", "e880b5a2-9a8f-4277-afb5-cee760c56591"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '82552188-b4a4-4f78-99d5-a2ab01008d6a' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.3ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00], ["item_id", "fff25022-ff3f-4cb3-9858-14b95ed443a8"], ["purchaser_id", "aa228536-624a-478c-8a17-8b8696495380"], ["updated_at", Thu, 05 Dec 2013 17:22:41 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '82552188-b4a4-4f78-99d5-a2ab01008d6a' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00], ["item_id", "fff25022-ff3f-4cb3-9858-14b95ed443a8"], ["purchaser_id", "faa3e319-1f10-4b3b-b07a-2d8741af1547"], ["updated_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchase Load (0.4ms)[0m  [1mSELECT "purchases".* FROM "purchases"[0m
  [1m[35mItem Load (0.6ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "4104d794-e390-413c-a087-464ab9f980be"]]
  [1m[36mItem Load (0.8ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "4251d334-347c-4dd4-a08f-7f9f002d833f"]]
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "fff25022-ff3f-4cb3-9858-14b95ed443a8"]]
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "fff25022-ff3f-4cb3-9858-14b95ed443a8"]]
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "4104d794-e390-413c-a087-464ab9f980be"]]
  [1m[36mItem Load (0.3ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "4251d334-347c-4dd4-a08f-7f9f002d833f"]]
  [1m[35mItem Load (0.2ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "fff25022-ff3f-4cb3-9858-14b95ed443a8"]]
  [1m[36mItem Load (0.3ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "fff25022-ff3f-4cb3-9858-14b95ed443a8"]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (0.5ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.8ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '565c32b0-cd9f-4fdf-a523-e7b3edf0e6b1' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "565c32b0-cd9f-4fdf-a523-e7b3edf0e6b1"], ["price", #<BigDecimal:7fb90da2c3f8,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.6ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00], ["item_id", "966ada85-2e40-4d03-955f-24637cb26238"], ["purchaser_id", "f7088e14-d769-4b22-af9e-8e4a012798f3"], ["updated_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.6ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'fd2c0cf7-5c1d-4268-9ca7-ec5cfc6fb44c' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "fd2c0cf7-5c1d-4268-9ca7-ec5cfc6fb44c"], ["price", #<BigDecimal:7fb9097b0150,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00], ["item_id", "2ddce942-efb6-4b36-83d0-c0ed0bd72fc2"], ["purchaser_id", "caa906be-2124-4d8a-aab0-e2c0b3396a27"], ["updated_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '56e88f48-23d1-4c83-aae8-c5c6595339d2' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "56e88f48-23d1-4c83-aae8-c5c6595339d2"], ["price", #<BigDecimal:7fb9097c3e08,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.6ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00], ["item_id", "a0c61d03-9ab8-4563-b59a-6c6528070587"], ["purchaser_id", "f67e2301-7576-46de-944e-34018d63f1a2"], ["updated_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.8ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '56e88f48-23d1-4c83-aae8-c5c6595339d2' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00], ["item_id", "a0c61d03-9ab8-4563-b59a-6c6528070587"], ["purchaser_id", "f7088e14-d769-4b22-af9e-8e4a012798f3"], ["updated_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.5ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '565c32b0-cd9f-4fdf-a523-e7b3edf0e6b1' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'John Smith' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00], ["name", "John Smith"], ["updated_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00], ["item_id", "966ada85-2e40-4d03-955f-24637cb26238"], ["purchaser_id", "8a6d8c34-fb8a-4649-a023-d245e0044336"], ["updated_at", Thu, 05 Dec 2013 17:22:42 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchase Load (0.3ms)[0m  SELECT "purchases".* FROM "purchases"
  [1m[36mItem Load (0.3ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "966ada85-2e40-4d03-955f-24637cb26238"]]
  [1m[35mItem Load (0.3ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "2ddce942-efb6-4b36-83d0-c0ed0bd72fc2"]]
  [1m[36mItem Load (0.3ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "a0c61d03-9ab8-4563-b59a-6c6528070587"]]
  [1m[35mItem Load (0.3ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "a0c61d03-9ab8-4563-b59a-6c6528070587"]]
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "966ada85-2e40-4d03-955f-24637cb26238"]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (1.7ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (9.6ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.6ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '758c7f19-c79c-4a76-ad88-34b476118507' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "758c7f19-c79c-4a76-ad88-34b476118507"], ["price", #<BigDecimal:7f991fa1c538,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.9ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00], ["item_id", "e11b0432-a603-46a0-b853-d73805e514ec"], ["purchaser_id", "63fa9b3f-d6b8-4ec3-8091-c5583695e1e1"], ["updated_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.6ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.6ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '4fd4d741-8c74-4a68-a7fe-8177f502d9a7' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "4fd4d741-8c74-4a68-a7fe-8177f502d9a7"], ["price", #<BigDecimal:7f991b3d0660,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.5ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00], ["item_id", "10e58230-3ff5-4653-bbd5-2d4694e52b73"], ["purchaser_id", "dd75e464-f211-40a1-a5ed-d98442851087"], ["updated_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '3cff3255-d700-4e36-9fb7-ae18d643ce16' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "3cff3255-d700-4e36-9fb7-ae18d643ce16"], ["price", #<BigDecimal:7f991b5c4728,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.7ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00], ["item_id", "28fe7584-b4d2-467b-a9b6-41a6b90d9aa5"], ["purchaser_id", "cb8298b1-b637-4b6d-be22-60e058bfaee5"], ["updated_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.9ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '3cff3255-d700-4e36-9fb7-ae18d643ce16' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.6ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00], ["item_id", "28fe7584-b4d2-467b-a9b6-41a6b90d9aa5"], ["purchaser_id", "63fa9b3f-d6b8-4ec3-8091-c5583695e1e1"], ["updated_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "merchants"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "purchasers"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "items"[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "purchases"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mMerchant Load (0.5ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.6ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '70086a0b-dd9c-4d95-b1c7-1aa5689e2e89' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "70086a0b-dd9c-4d95-b1c7-1aa5689e2e89"], ["price", #<BigDecimal:7f991b77b580,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.5ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00], ["item_id", "1045c55a-e03f-46ab-b4ac-c1879b97a65f"], ["purchaser_id", "bbfbd245-74c2-4bae-bf2b-d61105ed7ecf"], ["updated_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '7af9f4a8-bf34-431b-a0a4-ee9d67f36e6e' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "7af9f4a8-bf34-431b-a0a4-ee9d67f36e6e"], ["price", #<BigDecimal:7f991f829e38,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00], ["item_id", "fbd21a6d-86bf-4ded-be3b-4e01ee10e197"], ["purchaser_id", "32f48b33-76ca-46fb-b732-74561347a7d9"], ["updated_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '8f5cca2a-1453-4e99-9922-c1944db4b614' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "8f5cca2a-1453-4e99-9922-c1944db4b614"], ["price", #<BigDecimal:7f991f8a99f8,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00], ["item_id", "947bf7fc-7135-4f00-8645-396403bf872b"], ["purchaser_id", "53130044-f3f3-4458-aed5-cf905abfad35"], ["updated_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '8f5cca2a-1453-4e99-9922-c1944db4b614' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.3ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00], ["item_id", "947bf7fc-7135-4f00-8645-396403bf872b"], ["purchaser_id", "bbfbd245-74c2-4bae-bf2b-d61105ed7ecf"], ["updated_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '70086a0b-dd9c-4d95-b1c7-1aa5689e2e89' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.7ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00], ["item_id", "1045c55a-e03f-46ab-b4ac-c1879b97a65f"], ["purchaser_id", "bbfbd245-74c2-4bae-bf2b-d61105ed7ecf"], ["updated_at", Thu, 05 Dec 2013 17:23:15 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.5ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '7af9f4a8-bf34-431b-a0a4-ee9d67f36e6e' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["item_id", "fbd21a6d-86bf-4ded-be3b-4e01ee10e197"], ["purchaser_id", "32f48b33-76ca-46fb-b732-74561347a7d9"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.5ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '8f5cca2a-1453-4e99-9922-c1944db4b614' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["item_id", "947bf7fc-7135-4f00-8645-396403bf872b"], ["purchaser_id", "53130044-f3f3-4458-aed5-cf905abfad35"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.7ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '8f5cca2a-1453-4e99-9922-c1944db4b614' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["item_id", "947bf7fc-7135-4f00-8645-396403bf872b"], ["purchaser_id", "bbfbd245-74c2-4bae-bf2b-d61105ed7ecf"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "merchants"
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "purchasers"[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "items"
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "purchases"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '939abcdd-509e-4661-823d-9b4367b5bcc3' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "939abcdd-509e-4661-823d-9b4367b5bcc3"], ["price", #<BigDecimal:7f991dbd7e10,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["item_id", "ee48aa41-9522-4ecb-bda0-cb6473925ec9"], ["purchaser_id", "efb1d831-d78c-44df-9051-5879f0d8f213"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '52b83c29-c058-404f-a917-e0d664c306b5' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "52b83c29-c058-404f-a917-e0d664c306b5"], ["price", #<BigDecimal:7f991dbfffa0,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.3ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["item_id", "3df2f0c2-c9fb-4e76-9ba6-c1317401abca"], ["purchaser_id", "76f25f7a-d719-4924-97ec-07c45889a531"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'f1d0d588-9b43-49e7-8b41-aba86f239286' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "f1d0d588-9b43-49e7-8b41-aba86f239286"], ["price", #<BigDecimal:7f991fa365a0,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["item_id", "858cbb45-dafc-4fec-a494-fbcea8041cda"], ["purchaser_id", "b4d41e9b-a73d-4294-92d1-c2ef8cab1b74"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.5ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.5ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 'f1d0d588-9b43-49e7-8b41-aba86f239286' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["item_id", "858cbb45-dafc-4fec-a494-fbcea8041cda"], ["purchaser_id", "efb1d831-d78c-44df-9051-5879f0d8f213"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '939abcdd-509e-4661-823d-9b4367b5bcc3' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'John Smith' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["name", "John Smith"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["item_id", "ee48aa41-9522-4ecb-bda0-cb6473925ec9"], ["purchaser_id", "0fa32fbe-6240-425e-ab7c-83e4a3a0693c"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "merchants"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "purchasers"[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "items"
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "purchases"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (0.5ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '32176ba1-ba60-4b10-ac45-d6b666911c8d' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "32176ba1-ba60-4b10-ac45-d6b666911c8d"], ["price", #<BigDecimal:7f991fa5d268,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["item_id", "7e85f9a4-ef9e-49b0-b1f2-feeaced1ec13"], ["purchaser_id", "00099e93-7bbf-4d4d-a4fb-4f0c97b813e1"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.6ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = '04fcb203-92df-49a8-8bb5-452e5cbb09b1' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "04fcb203-92df-49a8-8bb5-452e5cbb09b1"], ["price", #<BigDecimal:7f991dcd4fe8,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.6ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["item_id", "1c90a38a-e511-47eb-9e9a-26340dee2d52"], ["purchaser_id", "2e785a13-9a5d-423b-a322-596655c68614"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '5204da94-dd96-45ab-b420-1579eebb1b41' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "5204da94-dd96-45ab-b420-1579eebb1b41"], ["price", #<BigDecimal:7f991dcfccf0,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.7ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["item_id", "129a89f7-8b56-4a96-b56d-09a337c65086"], ["purchaser_id", "fa49dd62-6b9d-4a73-abea-707c0e442517"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '5204da94-dd96-45ab-b420-1579eebb1b41' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["item_id", "129a89f7-8b56-4a96-b56d-09a337c65086"], ["purchaser_id", "00099e93-7bbf-4d4d-a4fb-4f0c97b813e1"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchase Load (0.4ms)[0m  [1mSELECT "purchases".* FROM "purchases"[0m
  [1m[35mItem Load (1.2ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "7e85f9a4-ef9e-49b0-b1f2-feeaced1ec13"]]
  [1m[36mItem Load (0.8ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "1c90a38a-e511-47eb-9e9a-26340dee2d52"]]
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "129a89f7-8b56-4a96-b56d-09a337c65086"]]
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "129a89f7-8b56-4a96-b56d-09a337c65086"]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (0.5ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'f81b24fc-9d8d-4d75-a80a-fde8b3a0ccab' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "f81b24fc-9d8d-4d75-a80a-fde8b3a0ccab"], ["price", #<BigDecimal:7f991ddcc180,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["item_id", "bf9509d8-6492-428c-9b9f-2b480564e619"], ["purchaser_id", "1e611f23-240f-4978-a09a-1db1aa591d13"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'c3a8d0ae-a70e-417e-ad5c-238a556eafa5' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "c3a8d0ae-a70e-417e-ad5c-238a556eafa5"], ["price", #<BigDecimal:7f991dde7e80,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["item_id", "993a00a7-ae85-4ee4-b057-517cfedf32a4"], ["purchaser_id", "110e9471-610a-485a-acac-0b06817284db"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '29b45693-25f7-47d3-8035-6e74aaf4fde3' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "29b45693-25f7-47d3-8035-6e74aaf4fde3"], ["price", #<BigDecimal:7f991fb07ba0,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.4ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["item_id", "8bec0ee8-9321-4d4d-85ca-f490af929830"], ["purchaser_id", "4f95df5b-02ac-40fb-9a7b-b0e7a225ad0d"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.6ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.6ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '29b45693-25f7-47d3-8035-6e74aaf4fde3' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["item_id", "8bec0ee8-9321-4d4d-85ca-f490af929830"], ["purchaser_id", "1e611f23-240f-4978-a09a-1db1aa591d13"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'f81b24fc-9d8d-4d75-a80a-fde8b3a0ccab' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.7ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["item_id", "bf9509d8-6492-428c-9b9f-2b480564e619"], ["purchaser_id", "1e611f23-240f-4978-a09a-1db1aa591d13"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.5ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'c3a8d0ae-a70e-417e-ad5c-238a556eafa5' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["item_id", "993a00a7-ae85-4ee4-b057-517cfedf32a4"], ["purchaser_id", "110e9471-610a-485a-acac-0b06817284db"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '29b45693-25f7-47d3-8035-6e74aaf4fde3' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.3ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["item_id", "8bec0ee8-9321-4d4d-85ca-f490af929830"], ["purchaser_id", "4f95df5b-02ac-40fb-9a7b-b0e7a225ad0d"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '29b45693-25f7-47d3-8035-6e74aaf4fde3' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.3ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["item_id", "8bec0ee8-9321-4d4d-85ca-f490af929830"], ["purchaser_id", "1e611f23-240f-4978-a09a-1db1aa591d13"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchase Load (0.6ms)[0m  [1mSELECT "purchases".* FROM "purchases"[0m
  [1m[35mItem Load (0.5ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "bf9509d8-6492-428c-9b9f-2b480564e619"]]
  [1m[36mItem Load (0.3ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "993a00a7-ae85-4ee4-b057-517cfedf32a4"]]
  [1m[35mItem Load (0.5ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "8bec0ee8-9321-4d4d-85ca-f490af929830"]]
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "8bec0ee8-9321-4d4d-85ca-f490af929830"]]
  [1m[35mItem Load (0.6ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "bf9509d8-6492-428c-9b9f-2b480564e619"]]
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "993a00a7-ae85-4ee4-b057-517cfedf32a4"]]
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "8bec0ee8-9321-4d4d-85ca-f490af929830"]]
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "8bec0ee8-9321-4d4d-85ca-f490af929830"]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '0209d153-6ec9-4221-9de7-8e012ed18b10' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", "0209d153-6ec9-4221-9de7-8e012ed18b10"], ["price", #<BigDecimal:7f991fbd64a0,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.6ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["item_id", "c7b17e96-c752-4612-9405-d83b4ef904e5"], ["purchaser_id", "fad5064d-651d-4298-b142-34daf267c563"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 'd62d05b9-c18b-4158-88b9-dcf3b8d1c5ab' ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", "d62d05b9-c18b-4158-88b9-dcf3b8d1c5ab"], ["price", #<BigDecimal:7f991a946208,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.4ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 5], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["item_id", "7c712419-26dd-4754-a798-3a074c205810"], ["purchaser_id", "14cffca5-a615-404f-b9b7-383390950c05"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.3ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '68e9df98-19bd-432c-a096-9fe2c587ca66' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", "68e9df98-19bd-432c-a096-9fe2c587ca66"], ["price", #<BigDecimal:7f991fc1dee0,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.5ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["item_id", "cd6a9471-4f6e-4fee-9b01-21ca8fd50ff7"], ["purchaser_id", "ec39b3fa-cdbf-4a74-88e5-a486c2f566f3"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.5ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = '68e9df98-19bd-432c-a096-9fe2c587ca66' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.5ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["item_id", "cd6a9471-4f6e-4fee-9b01-21ca8fd50ff7"], ["purchaser_id", "fad5064d-651d-4298-b142-34daf267c563"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = '0209d153-6ec9-4221-9de7-8e012ed18b10' ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.3ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'John Smith' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["name", "John Smith"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "purchases" ("count", "created_at", "item_id", "purchaser_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["count", 4], ["created_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00], ["item_id", "c7b17e96-c752-4612-9405-d83b4ef904e5"], ["purchaser_id", "ffe68696-b19a-450b-a6fc-19c8afd4ceca"], ["updated_at", Thu, 05 Dec 2013 17:23:16 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchase Load (0.3ms)[0m  SELECT "purchases".* FROM "purchases"
  [1m[36mItem Load (0.3ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "c7b17e96-c752-4612-9405-d83b4ef904e5"]]
  [1m[35mItem Load (0.3ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "7c712419-26dd-4754-a798-3a074c205810"]]
  [1m[36mItem Load (0.3ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "cd6a9471-4f6e-4fee-9b01-21ca8fd50ff7"]]
  [1m[35mItem Load (0.3ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1  [["id", "cd6a9471-4f6e-4fee-9b01-21ca8fd50ff7"]]
  [1m[36mItem Load (0.3ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = $1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", "c7b17e96-c752-4612-9405-d83b4ef904e5"]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreatePurchasers (20131204203459)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "purchasers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_purchasers_on_name" ON "purchasers" ("name")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131204203459"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreatePurchases (20131204203720)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "purchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "count" integer, "item_id" integer, "purchaser_id" integer, "data_import_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_purchases_on_purchaser_id" ON "purchases" ("purchaser_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131204203720"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateItems (20131204203830)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "description" varchar(255), "price" decimal(8,2), "merchant_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_items_on_merchant_id" ON "items" ("merchant_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131204203830"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateMerchants (20131204203849)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "merchants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "address" varchar(255), "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131204203849"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateDataImports (20131204212838)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "data_imports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "file_path" varchar(255), "file_hash" varchar(255), "completed" boolean, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131204212838"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mDataImport Load (0.1ms)[0m  SELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = '70d6dd2be11a482c3789714aa44b1c84' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (3.0ms)[0m  INSERT INTO "data_imports" ("created_at", "file_hash", "file_path", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["file_hash", "70d6dd2be11a482c3789714aa44b1c84"], ["file_path", "testfile2013-12-05 15:18:16 -0500.tab"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 1 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", 1], ["price", #<BigDecimal:7f993891fea0,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.1ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["data_import_id", 1], ["item_id", 1], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 2 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", 2], ["price", #<BigDecimal:7f993556b4d8,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.0ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["count", 5], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["data_import_id", 1], ["item_id", 2], ["purchaser_id", 2], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.0ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", 3], ["price", #<BigDecimal:7f99355f8a40,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.0ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["data_import_id", 1], ["item_id", 3], ["purchaser_id", 3], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["data_import_id", 1], ["item_id", 3], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "data_imports" SET "completed" = ?, "updated_at" = ? WHERE "data_imports"."id" = 1  [["completed", true], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "merchants"
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "purchasers"[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "items"
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "purchases"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mDataImport Load (0.1ms)[0m  SELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = '70d6dd2be11a482c3789714aa44b1c84' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "data_imports" ("created_at", "file_hash", "file_path", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["file_hash", "70d6dd2be11a482c3789714aa44b1c84"], ["file_path", "testfile2013-12-05 15:18:16 -0500.tab"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 1 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", 1], ["price", #<BigDecimal:7f9935725378,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.0ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["data_import_id", 1], ["item_id", 1], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 2 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", 2], ["price", #<BigDecimal:7f993881e1a0,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.0ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["count", 5], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["data_import_id", 1], ["item_id", 2], ["purchaser_id", 2], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", 3], ["price", #<BigDecimal:7f993886fbb8,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.0ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["data_import_id", 1], ["item_id", 3], ["purchaser_id", 3], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["data_import_id", 1], ["item_id", 3], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "data_imports" SET "completed" = ?, "updated_at" = ? WHERE "data_imports"."id" = 1  [["completed", true], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mDataImport Load (0.0ms)[0m  SELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = 'a9248c1b5471de8056f37d13e96f333e' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "data_imports" ("created_at", "file_hash", "file_path", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["file_hash", "a9248c1b5471de8056f37d13e96f333e"], ["file_path", "testfile2013-12-05 15:18:16 -0500.tab"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 1 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.0ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'John Smith' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["name", "John Smith"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["data_import_id", 2], ["item_id", 1], ["purchaser_id", 4], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "data_imports" SET "completed" = ?, "updated_at" = ? WHERE "data_imports"."id" = 2  [["completed", true], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "merchants"
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "purchasers"[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "items"
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "purchases"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mDataImport Load (0.1ms)[0m  SELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = '70d6dd2be11a482c3789714aa44b1c84' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "data_imports" ("created_at", "file_hash", "file_path", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["file_hash", "70d6dd2be11a482c3789714aa44b1c84"], ["file_path", "testfile2013-12-05 15:18:16 -0500.tab"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 1 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", 1], ["price", #<BigDecimal:7f9938956a40,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.0ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["data_import_id", 1], ["item_id", 1], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 2 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", 2], ["price", #<BigDecimal:7f993981e5f0,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["count", 5], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["data_import_id", 1], ["item_id", 2], ["purchaser_id", 2], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", 3], ["price", #<BigDecimal:7f99370321e0,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.1ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["data_import_id", 1], ["item_id", 3], ["purchaser_id", 3], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["data_import_id", 1], ["item_id", 3], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "data_imports" SET "completed" = ?, "updated_at" = ? WHERE "data_imports"."id" = 1  [["completed", true], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchase Load (0.1ms)[0m  SELECT "purchases".* FROM "purchases" WHERE "purchases"."data_import_id" = ?  [["data_import_id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", 3]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1  [["id", 3]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mDataImport Load (0.1ms)[0m  [1mSELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = '70d6dd2be11a482c3789714aa44b1c84' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "data_imports" ("created_at", "file_hash", "file_path", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["file_hash", "70d6dd2be11a482c3789714aa44b1c84"], ["file_path", "testfile2013-12-05 15:18:16 -0500.tab"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 1 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", 1], ["price", #<BigDecimal:7f9938a8fbf0,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["count", 2], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["data_import_id", 1], ["item_id", 1], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 2 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", 2], ["price", #<BigDecimal:7f9938acf750,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.1ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 5], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["data_import_id", 1], ["item_id", 2], ["purchaser_id", 2], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", 3], ["price", #<BigDecimal:7f9938b0f3a0,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.0ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["count", 1], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["data_import_id", 1], ["item_id", 3], ["purchaser_id", 3], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.1ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["count", 4], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["data_import_id", 1], ["item_id", 3], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "data_imports" SET "completed" = ?, "updated_at" = ? WHERE "data_imports"."id" = 1[0m  [["completed", true], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDataImport Load (0.1ms)[0m  [1mSELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = 'a9248c1b5471de8056f37d13e96f333e' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "data_imports" ("created_at", "file_hash", "file_path", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["file_hash", "a9248c1b5471de8056f37d13e96f333e"], ["file_path", "testfile2013-12-05 15:18:16 -0500.tab"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 1 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'John Smith' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["name", "John Smith"], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["count", 4], ["created_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00], ["data_import_id", 2], ["item_id", 1], ["purchaser_id", 4], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "data_imports" SET "completed" = ?, "updated_at" = ? WHERE "data_imports"."id" = 2[0m  [["completed", true], ["updated_at", Thu, 05 Dec 2013 20:18:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchase Load (0.0ms)[0m  [1mSELECT "purchases".* FROM "purchases" WHERE "purchases"."data_import_id" = ?[0m  [["data_import_id", 2]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mDataImport Load (0.1ms)[0m  SELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = '70d6dd2be11a482c3789714aa44b1c84' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.2ms)[0m  INSERT INTO "data_imports" ("created_at", "file_hash", "file_path", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["file_hash", "70d6dd2be11a482c3789714aa44b1c84"], ["file_path", "testfile2013-12-05 15:18:54 -0500.tab"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 1 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", 1], ["price", #<BigDecimal:7f9466078738,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.1ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["data_import_id", 1], ["item_id", 1], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 2 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", 2], ["price", #<BigDecimal:7f94675e9090,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.0ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["count", 5], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["data_import_id", 1], ["item_id", 2], ["purchaser_id", 2], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.0ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", 3], ["price", #<BigDecimal:7f946765ba00,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.0ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["data_import_id", 1], ["item_id", 3], ["purchaser_id", 3], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["data_import_id", 1], ["item_id", 3], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "data_imports" SET "completed" = ?, "updated_at" = ? WHERE "data_imports"."id" = 1  [["completed", true], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "merchants"
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "purchasers"[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "items"
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "purchases"[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mDataImport Load (0.1ms)[0m  SELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = '70d6dd2be11a482c3789714aa44b1c84' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "data_imports" ("created_at", "file_hash", "file_path", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["file_hash", "70d6dd2be11a482c3789714aa44b1c84"], ["file_path", "testfile2013-12-05 15:18:54 -0500.tab"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 1 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", 1], ["price", #<BigDecimal:7f94677920e0,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.0ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["data_import_id", 1], ["item_id", 1], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.0ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 2 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", 2], ["price", #<BigDecimal:7f94677e63c0,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.0ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["count", 5], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["data_import_id", 1], ["item_id", 2], ["purchaser_id", 2], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", 3], ["price", #<BigDecimal:7f9469843b40,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.1ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["data_import_id", 1], ["item_id", 3], ["purchaser_id", 3], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["data_import_id", 1], ["item_id", 3], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "data_imports" SET "completed" = ?, "updated_at" = ? WHERE "data_imports"."id" = 1  [["completed", true], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mDataImport Load (0.1ms)[0m  SELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = 'a9248c1b5471de8056f37d13e96f333e' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "data_imports" ("created_at", "file_hash", "file_path", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["file_hash", "a9248c1b5471de8056f37d13e96f333e"], ["file_path", "testfile2013-12-05 15:18:54 -0500.tab"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 1 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.1ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'John Smith' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["name", "John Smith"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["data_import_id", 2], ["item_id", 1], ["purchaser_id", 4], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "data_imports" SET "completed" = ?, "updated_at" = ? WHERE "data_imports"."id" = 2  [["completed", true], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "merchants"
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "purchasers"[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "items"
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "purchases"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mDataImport Load (0.1ms)[0m  SELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = '70d6dd2be11a482c3789714aa44b1c84' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "data_imports" ("created_at", "file_hash", "file_path", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["file_hash", "70d6dd2be11a482c3789714aa44b1c84"], ["file_path", "testfile2013-12-05 15:18:54 -0500.tab"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 1 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", 1], ["price", #<BigDecimal:7f946993abe8,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.0ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["data_import_id", 1], ["item_id", 1], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 2 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", 2], ["price", #<BigDecimal:7f946997a798,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.0ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["count", 5], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["data_import_id", 1], ["item_id", 2], ["purchaser_id", 2], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", 3], ["price", #<BigDecimal:7f94699ba398,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.0ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["data_import_id", 1], ["item_id", 3], ["purchaser_id", 3], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["data_import_id", 1], ["item_id", 3], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "data_imports" SET "completed" = ?, "updated_at" = ? WHERE "data_imports"."id" = 1  [["completed", true], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchase Load (0.1ms)[0m  SELECT "purchases".* FROM "purchases" WHERE "purchases"."data_import_id" = ?  [["data_import_id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", 3]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1  [["id", 3]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mDataImport Load (0.1ms)[0m  [1mSELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = '70d6dd2be11a482c3789714aa44b1c84' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "data_imports" ("created_at", "file_hash", "file_path", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["file_hash", "70d6dd2be11a482c3789714aa44b1c84"], ["file_path", "testfile2013-12-05 15:18:54 -0500.tab"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 1 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", 1], ["price", #<BigDecimal:7f9469b43db8,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["count", 2], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["data_import_id", 1], ["item_id", 1], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 2 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", 2], ["price", #<BigDecimal:7f9469b83918,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.1ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 5], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["data_import_id", 1], ["item_id", 2], ["purchaser_id", 2], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", 3], ["price", #<BigDecimal:7f946a01f558,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["count", 1], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["data_import_id", 1], ["item_id", 3], ["purchaser_id", 3], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.1ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["count", 4], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["data_import_id", 1], ["item_id", 3], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "data_imports" SET "completed" = ?, "updated_at" = ? WHERE "data_imports"."id" = 1[0m  [["completed", true], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDataImport Load (0.1ms)[0m  [1mSELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = 'a9248c1b5471de8056f37d13e96f333e' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "data_imports" ("created_at", "file_hash", "file_path", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["file_hash", "a9248c1b5471de8056f37d13e96f333e"], ["file_path", "testfile2013-12-05 15:18:54 -0500.tab"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 1 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'John Smith' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["name", "John Smith"], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["count", 4], ["created_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00], ["data_import_id", 2], ["item_id", 1], ["purchaser_id", 4], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "data_imports" SET "completed" = ?, "updated_at" = ? WHERE "data_imports"."id" = 2[0m  [["completed", true], ["updated_at", Thu, 05 Dec 2013 20:18:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchase Load (0.0ms)[0m  [1mSELECT "purchases".* FROM "purchases" WHERE "purchases"."data_import_id" = ?[0m  [["data_import_id", 2]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mDataImport Load (0.1ms)[0m  SELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = '70d6dd2be11a482c3789714aa44b1c84' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.1ms)[0m  INSERT INTO "data_imports" ("created_at", "file_hash", "file_path", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["file_hash", "70d6dd2be11a482c3789714aa44b1c84"], ["file_path", "testfile2013-12-05 15:19:11 -0500.tab"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 1 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", 1], ["price", #<BigDecimal:7fd276877eb8,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.1ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["data_import_id", 1], ["item_id", 1], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 2 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", 2], ["price", #<BigDecimal:7fd273cbf578,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["count", 5], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["data_import_id", 1], ["item_id", 2], ["purchaser_id", 2], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", 3], ["price", #<BigDecimal:7fd273d44a70,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.1ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["data_import_id", 1], ["item_id", 3], ["purchaser_id", 3], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["data_import_id", 1], ["item_id", 3], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "data_imports" SET "completed" = ?, "updated_at" = ? WHERE "data_imports"."id" = 1  [["completed", true], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "merchants"
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "purchasers"[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "items"
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "purchases"[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mDataImport Load (0.1ms)[0m  SELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = '70d6dd2be11a482c3789714aa44b1c84' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "data_imports" ("created_at", "file_hash", "file_path", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["file_hash", "70d6dd2be11a482c3789714aa44b1c84"], ["file_path", "testfile2013-12-05 15:19:11 -0500.tab"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 1 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", 1], ["price", #<BigDecimal:7fd273e71380,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.0ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["data_import_id", 1], ["item_id", 1], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 2 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", 2], ["price", #<BigDecimal:7fd273ee2198,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.0ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["count", 5], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["data_import_id", 1], ["item_id", 2], ["purchaser_id", 2], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", 3], ["price", #<BigDecimal:7fd273f33bb0,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.0ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["data_import_id", 1], ["item_id", 3], ["purchaser_id", 3], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["data_import_id", 1], ["item_id", 3], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "data_imports" SET "completed" = ?, "updated_at" = ? WHERE "data_imports"."id" = 1  [["completed", true], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mDataImport Load (0.0ms)[0m  SELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = 'a9248c1b5471de8056f37d13e96f333e' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "data_imports" ("created_at", "file_hash", "file_path", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["file_hash", "a9248c1b5471de8056f37d13e96f333e"], ["file_path", "testfile2013-12-05 15:19:11 -0500.tab"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 1 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.0ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'John Smith' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["name", "John Smith"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["data_import_id", 2], ["item_id", 1], ["purchaser_id", 4], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "data_imports" SET "completed" = ?, "updated_at" = ? WHERE "data_imports"."id" = 2  [["completed", true], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "merchants"
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "purchasers"[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "items"
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "purchases"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mDataImport Load (0.1ms)[0m  SELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = '70d6dd2be11a482c3789714aa44b1c84' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "data_imports" ("created_at", "file_hash", "file_path", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["file_hash", "70d6dd2be11a482c3789714aa44b1c84"], ["file_path", "testfile2013-12-05 15:19:11 -0500.tab"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 1 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", 1], ["price", #<BigDecimal:7fd271f2ea18,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.1ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 2], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["data_import_id", 1], ["item_id", 1], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 2 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", 2], ["price", #<BigDecimal:7fd271f6e5c8,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["count", 5], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["data_import_id", 1], ["item_id", 2], ["purchaser_id", 2], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", 3], ["price", #<BigDecimal:7fd271fae1c8,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.0ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 1], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["data_import_id", 1], ["item_id", 3], ["purchaser_id", 3], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 4], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["data_import_id", 1], ["item_id", 3], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "data_imports" SET "completed" = ?, "updated_at" = ? WHERE "data_imports"."id" = 1  [["completed", true], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchase Load (0.1ms)[0m  SELECT "purchases".* FROM "purchases" WHERE "purchases"."data_import_id" = ?  [["data_import_id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", 3]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1  [["id", 3]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mDataImport Load (0.1ms)[0m  [1mSELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = '70d6dd2be11a482c3789714aa44b1c84' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "data_imports" ("created_at", "file_hash", "file_path", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["file_hash", "70d6dd2be11a482c3789714aa44b1c84"], ["file_path", "testfile2013-12-05 15:19:11 -0500.tab"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "987 Fake St"], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["name", "Bob's Pizza"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 1 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["description", "$10 off $20 of food"], ["merchant_id", 1], ["price", #<BigDecimal:7fd27713a7f8,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["name", "Snake Plissken"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["count", 2], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["data_import_id", 1], ["item_id", 1], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Tom''s Awesome Shop' AND "merchants"."address" = '456 Unreal Rd' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "456 Unreal Rd"], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["name", "Tom's Awesome Shop"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$30 of awesome for $10' AND "items"."price" = '10.0' AND "items"."merchant_id" = 2 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["description", "$30 of awesome for $10"], ["merchant_id", 2], ["price", #<BigDecimal:7fd27717a358,'0.1E2',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPurchaser Load (0.1ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Amy Pond' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["name", "Amy Pond"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["count", 5], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["data_import_id", 1], ["item_id", 2], ["purchaser_id", 2], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "merchants" ("address", "created_at", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "123 Fake St"], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["name", "Sneaker Store Emporium"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("created_at", "description", "merchant_id", "price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["description", "$20 Sneakers for $5"], ["merchant_id", 3], ["price", #<BigDecimal:7fd2771b9fa8,'0.5E1',9(18)>], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchaser Load (0.1ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Marty McFly' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["name", "Marty McFly"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["count", 1], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["data_import_id", 1], ["item_id", 3], ["purchaser_id", 3], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMerchant Load (0.1ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Sneaker Store Emporium' AND "merchants"."address" = '123 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."description" = '$20 Sneakers for $5' AND "items"."price" = '5.0' AND "items"."merchant_id" = 3 ORDER BY "items"."id" ASC LIMIT 1[0m
  [1m[35mPurchaser Load (0.1ms)[0m  SELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'Snake Plissken' ORDER BY "purchasers"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["count", 4], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["data_import_id", 1], ["item_id", 3], ["purchaser_id", 1], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "data_imports" SET "completed" = ?, "updated_at" = ? WHERE "data_imports"."id" = 1[0m  [["completed", true], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDataImport Load (0.1ms)[0m  [1mSELECT "data_imports".* FROM "data_imports" WHERE "data_imports"."file_hash" = 'a9248c1b5471de8056f37d13e96f333e' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "data_imports" ("created_at", "file_hash", "file_path", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["file_hash", "a9248c1b5471de8056f37d13e96f333e"], ["file_path", "testfile2013-12-05 15:19:11 -0500.tab"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMerchant Load (0.1ms)[0m  [1mSELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = 'Bob''s Pizza' AND "merchants"."address" = '987 Fake St' ORDER BY "merchants"."id" ASC LIMIT 1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = '$10 off $20 of food' AND "items"."price" = '10.0' AND "items"."merchant_id" = 1 ORDER BY "items"."id" ASC LIMIT 1
  [1m[36mPurchaser Load (0.0ms)[0m  [1mSELECT "purchasers".* FROM "purchasers" WHERE "purchasers"."name" = 'John Smith' ORDER BY "purchasers"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchasers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["name", "John Smith"], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchases" ("count", "created_at", "data_import_id", "item_id", "purchaser_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["count", 4], ["created_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00], ["data_import_id", 2], ["item_id", 1], ["purchaser_id", 4], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "data_imports" SET "completed" = ?, "updated_at" = ? WHERE "data_imports"."id" = 2[0m  [["completed", true], ["updated_at", Thu, 05 Dec 2013 20:19:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPurchase Load (0.0ms)[0m  [1mSELECT "purchases".* FROM "purchases" WHERE "purchases"."data_import_id" = ?[0m  [["data_import_id", 2]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = ? ORDER BY "items"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
